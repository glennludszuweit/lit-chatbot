!function(){"use strict";function t(){var t,e,o,a,c,n,l=window,h=document;function u(t,e){this.scrollLeft=t,this.scrollTop=e}function i(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function r(t,e){return"Y"===e?t.clientHeight+n<t.scrollHeight:"X"===e?t.clientWidth+n<t.scrollWidth:void 0}function s(t,e){t=l.getComputedStyle(t,null)["overflow"+e];return"auto"===t||"scroll"===t}function d(t){var e=(c()-t.startTime)/o,e=(e=1<e?1:e,.5*(1-Math.cos(Math.PI*e))),n=t.startX+(t.x-t.startX)*e,e=t.startY+(t.y-t.startY)*e;t.method.call(t.scrollable,n,e),n===t.x&&e===t.y||l.requestAnimationFrame(d.bind(l,t))}function p(t,e,n){var o,i,r,s=c(),t=t===h.body?(i=(o=l).scrollX||l.pageXOffset,r=l.scrollY||l.pageYOffset,a.scroll):(i=(o=t).scrollLeft,r=t.scrollTop,u);d({scrollable:o,method:t,startTime:s,startX:i,startY:r,x:e,y:n})}"scrollBehavior"in h.documentElement.style&&!0!==l.__forceSmoothScrollPolyfill__||(e=l.HTMLElement||l.Element,o=468,a={scroll:l.scroll||l.scrollTo,scrollBy:l.scrollBy,elementScroll:e.prototype.scroll||u,scrollIntoView:e.prototype.scrollIntoView},c=l.performance&&l.performance.now?l.performance.now.bind(l.performance):Date.now,t=l.navigator.userAgent,n=new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0,l.scroll=l.scrollTo=function(){void 0!==arguments[0]&&(!0!==i(arguments[0])?p.call(l,h.body,void 0!==arguments[0].left?~~arguments[0].left:l.scrollX||l.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:l.scrollY||l.pageYOffset):a.scroll.call(l,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:l.scrollX||l.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:l.scrollY||l.pageYOffset))},l.scrollBy=function(){void 0!==arguments[0]&&(i(arguments[0])?a.scrollBy.call(l,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(l,h.body,~~arguments[0].left+(l.scrollX||l.pageXOffset),~~arguments[0].top+(l.scrollY||l.pageYOffset)))},e.prototype.scroll=e.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==i(arguments[0])){var t=arguments[0].left,e=arguments[0].top;p.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},e.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==i(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},e.prototype.scrollIntoView=function(){var t,e,n;!0!==i(arguments[0])?(e=(t=function(t){for(var e,n;!1===((t=t.parentNode)===h.body)&&!1===(e=r(n=t,"Y")&&s(n,"Y"),n=r(n,"X")&&s(n,"X"),e||n););return t}(this)).getBoundingClientRect(),n=this.getBoundingClientRect(),t!==h.body?(p.call(this,t,t.scrollLeft+n.left-e.left,t.scrollTop+n.top-e.top),"fixed"!==l.getComputedStyle(t).position&&l.scrollBy({left:e.left,top:e.top,behavior:"smooth"})):l.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):a.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])})}"object"==typeof exports&&"undefined"!=typeof module?module.exports={polyfill:t}:t()}(),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.io=e():t.io=e()}(this,function(){return o=[function(t,e,n){"use strict";function o(t,e){"object"===(void 0===t?"undefined":r(t))&&(e=t,t=void 0),e=e||{};var t=s(t),n=t.source,o=t.id,i=t.path,i=l[o]&&i in l[o].nsps,i=e.forceNew||e["force new connection"]||!1===e.multiplex||i?(c("ignoring socket cache for %s",n),a(n,e)):(l[o]||(c("new io instance for %s",n),l[o]=a(n,e)),l[o]);return t.query&&!e.query&&(e.query=t.query),i.socket(t.path,e)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(1),i=n(7),a=n(12),c=n(3)("socket.io-client"),l=(t.exports=e=o,e.managers={});e.protocol=i.protocol,e.connect=o,e.Manager=n(12),e.Socket=n(36)},function(t,e,n){"use strict";var o=n(2),i=n(3)("socket.io-client:url");t.exports=function(t,e){var n=t;return e=e||"undefined"!=typeof location&&location,"string"==typeof(t=null==t?e.protocol+"//"+e.host:t)&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),n=o(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/",t=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host,n.id=n.protocol+"://"+t+":"+n.port,n.href=n.protocol+"://"+t+(e&&e.port===n.port?"":":"+n.port),n}},function(t,e){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var i=a.exec(t||""),r={},s=14;s--;)r[c[s]]=i[s]||"";return-1!=n&&-1!=o&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r}},function(n,i,o){!function(e){function t(){var t;try{t=i.storage.debug}catch(t){}return t=!t&&void 0!==e&&"env"in e?e.env.DEBUG:t}(i=n.exports=o(5)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function(t){var e,n,o=this.useColors;t[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+t[0]+(o?"%c ":" ")+"+"+i.humanize(this.diff),o&&(o="color: "+this.color,t.splice(1,0,o,"color: inherit"),t[n=e=0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(e++,"%c"===t)&&(n=e)}),t.splice(n,0,o))},i.save=function(t){try{null==t?i.storage.removeItem("debug"):i.storage.debug=t}catch(t){}},i.load=t,i.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},i.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},i.enable(t())}.call(i,o(4))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return(l=setTimeout)(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function r(){p&&u&&(p=!1,u.length?d=u.concat(d):f=-1,d.length)&&s()}function s(){if(!p){var t=i(r);p=!0;for(var e=d.length;e;){for(u=d,d=[];++f<e;)u&&u[f].run();f=-1,e=d.length}u=null,p=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===o||!h)&&clearTimeout)return(h=clearTimeout)(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function c(){}var l,h,t=t.exports={};try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(t){h=o}var u,d=[],p=!1,f=-1;t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||p||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=c,t.addListener=c,t.once=c,t.off=c,t.removeListener=c,t.removeAllListeners=c,t.emit=c,t.prependListener=c,t.prependOnceListener=c,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,c,e){function n(t){function s(){if(s.enabled){var o=s,t=+new Date,e=t-(a||t);o.diff=e,o.prev=a,o.curr=t,a=t;for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];i[0]=c.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var r=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(t,e){var n;return"%%"!==t&&(r++,"function"==typeof(e=c.formatters[e]))&&(n=i[r],t=e.call(o,n),i.splice(r,1),r--),t}),c.formatArgs.call(o,i),(s.log||c.log||console.log.bind(console)).apply(o,i)}}var a;return s.namespace=t,s.enabled=c.enabled(t),s.useColors=c.useColors(),s.color=function(t){var e,n=0;for(e in t)n=(n<<5)-n+t.charCodeAt(e),n|=0;return c.colors[Math.abs(n)%c.colors.length]}(t),s.destroy=o,"function"==typeof c.init&&c.init(s),c.instances.push(s),s}function o(){var t=c.instances.indexOf(this);return-1!==t&&(c.instances.splice(t,1),!0)}(c=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},c.disable=function(){c.enable("")},c.enable=function(t){c.save(t),c.names=[],c.skips=[];for(var e=("string"==typeof t?t:"").split(/[\s,]+/),n=e.length,o=0;o<n;o++)e[o]&&("-"===(t=e[o].replace(/\*/g,".*?"))[0]?c.skips.push(new RegExp("^"+t.substr(1)+"$")):c.names.push(new RegExp("^"+t+"$")));for(o=0;o<c.instances.length;o++){var i=c.instances[o];i.enabled=c.enabled(i.namespace)}},c.enabled=function(t){if("*"===t[t.length-1])return!0;for(var e=0,n=c.skips.length;e<n;e++)if(c.skips[e].test(t))return!1;for(e=0,n=c.names.length;e<n;e++)if(c.names[e].test(t))return!0;return!1},c.humanize=e(6),c.instances=[],c.names=[],c.skips=[],c.formatters={}},function(t,e){function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var r=36e5,s=864e5;t.exports=function(t,e){e=e||{};var n=typeof t;if(!("string"==n&&0<t.length)){if("number"==n&&!1===isNaN(t))return e.long?i(n=t,s,"day")||i(n,r,"hour")||i(n,6e4,"minute")||i(n,1e3,"second")||n+" ms":s<=(e=t)?Math.round(e/s)+"d":r<=e?Math.round(e/r)+"h":6e4<=e?Math.round(e/6e4)+"m":1e3<=e?Math.round(e/1e3)+"s":e+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}n=t;if(!(100<(n=String(n)).length)){n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(n){var o=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*o;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}},function(t,s,e){function n(){}function o(t){var e=""+t.type;if(s.BINARY_EVENT!==t.type&&s.BINARY_ACK!==t.type||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data){var n=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===n)return m;e+=n}return h("encoded %j as %s",t,e),e}function i(t,n){d.removeBlobs(t,function(t){var e=o((t=d.deconstructPacket(t)).packet);(t=t.buffers).unshift(e),n(t)})}function r(){this.reconstructor=null}function a(t){var e=0,n={type:Number(t.charAt(0))};if(null==s.types[n.type])return l("unknown packet type "+n.type);if(s.BINARY_EVENT===n.type||s.BINARY_ACK===n.type){for(var o="";"-"!==t.charAt(++e)&&(o+=t.charAt(e),e!=t.length););if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===t.charAt(e+1))for(n.nsp="";++e;){if(","===(i=t.charAt(e)))break;if(n.nsp+=i,e===t.length)break}else n.nsp="/";var i,r=t.charAt(e+1);if(""!==r&&Number(r)==r){for(n.id="";++e;){if(null==(i=t.charAt(e))||Number(i)!=i){--e;break}if(n.id+=t.charAt(e),e===t.length)break}n.id=Number(n.id)}if(t.charAt(++e)){r=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!(!1!==r&&(n.type===s.ERROR||p(r))))return l("invalid payload");n.data=r}return h("decoded %s as %j",t,n),n}function c(t){this.reconPack=t,this.buffers=[]}function l(t){return{type:s.ERROR,data:"parser error: "+t}}var h=e(3)("socket.io-parser"),u=e(8),d=e(9),p=e(10),f=e(11),m=(s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=n,s.Decoder=r,s.ERROR+'"encode error"');n.prototype.encode=function(t,e){h("encoding packet %j",t),s.BINARY_EVENT===t.type||s.BINARY_ACK===t.type?i(t,e):e([o(t)])},u(r.prototype),r.prototype.add=function(t){var e;if("string"==typeof t)e=a(t),(s.BINARY_EVENT!==e.type&&s.BINARY_ACK!==e.type||(this.reconstructor=new c(e),0===this.reconstructor.reconPack.attachments))&&this.emit("decoded",e);else{if(!f(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){return this.buffers.push(t),this.buffers.length===this.reconPack.attachments?(t=d.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),t):null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){function o(t){if(t){var e,n=t;for(e in o.prototype)n[e]=o.prototype[e];return n}}(t.exports=o).prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},o.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)this._callbacks={};else{var n=this._callbacks["$"+t];if(n)if(1==arguments.length)delete this._callbacks["$"+t];else for(var o,i=0;i<n.length;i++)if((o=n[i])===e||o.fn===e){n.splice(i,1);break}}return this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var o=0,i=(n=n.slice(0)).length;o<i;++o)n[o].apply(this,e);return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var h=n(10),u=n(11),n=Object.prototype.toString,d="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),p="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);e.deconstructPacket=function(t){var e=[],n=t.data;return t.data=function t(e,n){if(!e)return e;var o;if(u(e))return o={_placeholder:!0,num:n.length},n.push(e),o;if(h(e))for(var i=new Array(e.length),r=0;r<e.length;r++)i[r]=t(e[r],n);else{if("object"!=typeof e||e instanceof Date)return e;var s,i={};for(s in e)i[s]=t(e[s],n)}return i}(n,e),t.attachments=e.length,{packet:t,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(e){if(e._placeholder)return n[e.num];if(h(e))for(var o=0;o<e.length;o++)e[o]=t(e[o],n);else if("object"==typeof e)for(var i in e)e[i]=t(e[i],n)}return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,a){var c=0,l=t;(function t(e,n,o){if(e)if(d&&e instanceof Blob||p&&e instanceof File){c++;var i=new FileReader;i.onload=function(){o?o[n]=this.result:l=this.result,--c||a(l)},i.readAsArrayBuffer(e)}else if(h(e))for(var r=0;r<e.length;r++)t(e[r],r,e);else if("object"==typeof e&&!u(e))for(var s in e)t(e[s],s,e)})(l),c||a(l)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t){return n&&Buffer.isBuffer(t)||o&&(t instanceof ArrayBuffer||i(t))};var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,o="function"==typeof ArrayBuffer,i=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}},function(t,e,n){"use strict";function o(t,e){if(!(this instanceof o))return new o(t,e);t&&"object"===(void 0===t?"undefined":i(t))&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];t=e.parser||a;this.encoder=new t.Encoder,this.decoder=new t.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(13),r=n(36),s=n(8),a=n(7),l=n(38),h=n(39),u=n(3)("socket.io-client:manager"),d=n(35),p=n(40),f=Object.prototype.hasOwnProperty;(t.exports=o).prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},o.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},o.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},s(o.prototype),o.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},o.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},o.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},o.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},o.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},o.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},o.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},o.prototype.open=o.prototype.connect=function(n,t){var e,o,i,r,s,a;return u("readyState %s",this.readyState),~this.readyState.indexOf("open")||(u("opening %s",this.uri),this.engine=c(this.uri,this.opts),e=this.engine,(o=this).readyState="opening",this.skipReconnect=!1,i=l(e,"open",function(){o.onopen(),n&&n()}),r=l(e,"error",function(t){var e;u("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),n?((e=new Error("Connection error")).data=t,n(e)):o.maybeReconnectOnOpen()}),!1!==this._timeout&&(s=this._timeout,u("connect attempt will timeout after %d",s),a=setTimeout(function(){u("connect attempt timed out after %d",s),i.destroy(),e.close(),e.emit("error","timeout"),o.emitAll("connect_timeout",s)},s),this.subs.push({destroy:function(){clearTimeout(a)}})),this.subs.push(i),this.subs.push(r)),this},o.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(l(t,"data",h(this,"ondata"))),this.subs.push(l(t,"ping",h(this,"onping"))),this.subs.push(l(t,"pong",h(this,"onpong"))),this.subs.push(l(t,"error",h(this,"onerror"))),this.subs.push(l(t,"close",h(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",h(this,"ondecoded")))},o.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},o.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},o.prototype.ondata=function(t){this.decoder.add(t)},o.prototype.ondecoded=function(t){this.emit("packet",t)},o.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},o.prototype.socket=function(t,e){function n(){~d(o.connecting,i)||o.connecting.push(i)}var o,i=this.nsps[t];return i||(i=new r(this,t,e),this.nsps[t]=i,o=this,i.on("connecting",n),i.on("connect",function(){i.id=o.generateId(t)}),this.autoConnect&&n()),i},o.prototype.destroy=function(t){t=d(this.connecting,t);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},o.prototype.packet=function(n){u("writing packet %j",n);var o=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),o.encoding?o.packetBuffer.push(n):(o.encoding=!0,this.encoder.encode(n,function(t){for(var e=0;e<t.length;e++)o.engine.write(t[e],n.options);o.encoding=!1,o.processPacketQueue()}))},o.prototype.processPacketQueue=function(){var t;0<this.packetBuffer.length&&!this.encoding&&(t=this.packetBuffer.shift(),this.packet(t))},o.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},o.prototype.close=o.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},o.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},o.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t,e,n=this;this.backoff.attempts>=this._reconnectionAttempts?(u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1):(t=this.backoff.duration(),u("will wait %dms before reconnect attempt",t),this.reconnecting=!0,e=setTimeout(function(){n.skipReconnect||(u("attempting reconnect"),n.emitAll("reconnect_attempt",n.backoff.attempts),n.emitAll("reconnecting",n.backoff.attempts),n.skipReconnect)||n.open(function(t){t?(u("reconnect attempt error"),n.reconnecting=!1,n.reconnect(),n.emitAll("reconnect_error",t.data)):(u("reconnect success"),n.onreconnect())})},t),this.subs.push({destroy:function(){clearTimeout(e)}}))},o.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){t.exports=n(14),t.exports.parser=n(21)},function(t,e,n){function u(t,e){return this instanceof u?(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=a(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=a(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&0<Object.keys(e.extraHeaders).length&&(this.extraHeaders=e.extraHeaders),e.localAddress)&&(this.localAddress=e.localAddress),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new u(t,e)}var o=n(15),i=n(8),d=n(3)("engine.io-client:socket"),r=n(35),s=n(21),a=n(2),c=n(29);(t.exports=u).priorWebsocketSuccess=!1,i(u.prototype),u.protocol=s.protocol,(u.Socket=u).Transport=n(20),u.transports=n(15),u.parser=n(21),u.prototype.createTransport=function(t){d('creating transport "%s"',t);var e=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(this.query),n=(e.EIO=s.protocol,e.transport=t,this.transportOptions[t]||{});return this.id&&(e.sid=this.id),new o[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var t,e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return e=this,void setTimeout(function(){e.emit("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},u.prototype.setTransport=function(t){d("setting transport %s",t.name);var e=this;this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=t).on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},u.prototype.probe=function(n){function t(){var t;h.onlyBinaryUpgrades&&(t=!this.supportsBinary&&h.transport.supportsBinary,l=l||t),l||(d('probe transport "%s" opened',n),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){l||("pong"===t.type&&"probe"===t.data?(d('probe transport "%s" pong',n),h.upgrading=!0,h.emit("upgrading",c),c&&(u.priorWebsocketSuccess="websocket"===c.name,d('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){l||"closed"!==h.readyState&&(d("changing transport and sending upgrade packet"),a(),h.setTransport(c),c.send([{type:"upgrade"}]),h.emit("upgrade",c),c=null,h.upgrading=!1,h.flush())}))):(d('probe transport "%s" failed',n),(t=new Error("probe error")).transport=c.name,h.emit("upgradeError",t)))}))}function o(){l||(l=!0,a(),c.close(),c=null)}function e(t){var e=new Error("probe error: "+t);e.transport=c.name,o(),d('probe transport "%s" failed because of error: %s',n,t),h.emit("upgradeError",e)}function i(){e("transport closed")}function r(){e("socket closed")}function s(t){c&&t.name!==c.name&&(d('"%s" works - aborting "%s"',t.name,c.name),o())}function a(){c.removeListener("open",t),c.removeListener("error",e),c.removeListener("close",i),h.removeListener("close",r),h.removeListener("upgrading",s)}d('probing transport "%s"',n);var c=this.createTransport(n,{probe:1}),l=!1,h=this;u.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",e),c.once("close",i),this.once("close",r),this.once("upgrading",s),c.open()},u.prototype.onOpen=function(){if(d("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){d("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},u.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(d('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else d('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},u.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){d("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},u.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(d("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},u.prototype.sendPacket=function(t,e,n,o){"function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((n=n||{}).compress=!1!==n.compress,this.emit("packetCreate",t={type:t,data:e,options:n}),this.writeBuffer.push(t),o&&this.once("flush",o),this.flush())},u.prototype.close=function(){function t(){o.onClose("forced close"),d("socket closing - telling transport to close"),o.transport.close()}function e(){o.removeListener("upgrade",e),o.removeListener("upgradeError",e),t()}function n(){o.once("upgrade",e),o.once("upgradeError",e)}var o;return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",(o=this).writeBuffer.length?this.once("drain",function(){(this.upgrading?n:t)()}):(this.upgrading?n:t)()),this},u.prototype.onError=function(t){d("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},u.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(d('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},u.prototype.filterUpgrades=function(t){for(var e=[],n=0,o=t.length;n<o;n++)~r(this.transports,t[n])&&e.push(t[n]);return e}},function(t,e,n){var s=n(16),a=n(18),c=n(32),n=n(33);e.polling=function(t){var e,n,o=!1,i=!1,r=!1!==t.jsonp;if("undefined"!=typeof location&&(e="https:"===location.protocol,n=(n=location.port)||(e?443:80),o=t.hostname!==location.hostname||n!==t.port,i=t.secure!==e),t.xdomain=o,t.xscheme=i,"open"in new s(t)&&!t.forceJSONP)return new a(t);if(r)return new c(t);throw new Error("JSONP disabled")},e.websocket=n},function(t,e,n){var o=n(17);t.exports=function(t){var e=t.xdomain,n=t.xscheme,t=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||o))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&t)return new XDomainRequest}catch(t){}if(!e)try{return new self[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(t,e,n){function o(){}function i(t){var e,n;c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location&&(e="https:"===location.protocol,n=(n=location.port)||(e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e)}function r(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in r.requests)r.requests.hasOwnProperty(t)&&r.requests[t].abort()}var a=n(16),c=n(19),l=n(8),h=n(30),u=n(3)("engine.io-client:polling-xhr");t.exports=i,t.exports.Request=r,h(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new r(t)},i.prototype.doWrite=function(t,e){var t=this.request({method:"POST",data:t,isBinary:"string"!=typeof t&&void 0!==t}),n=this;t.on("success",e),t.on("error",function(t){n.onError("xhr post error",t)}),this.sendXhr=t},i.prototype.doPoll=function(){u("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},l(r.prototype),r.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR},e=(t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.xhr=new a(t)),n=this;try{u("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},u("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}"undefined"!=typeof document&&(this.index=r.requestsCount++,r.requests[this.index]=this)},r.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},r.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},r.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},r.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete r.requests[this.index],this.xhr=null}},r.prototype.onLoad=function(){var t,e;try{try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},r.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},r.prototype.abort=function(){this.cleanup()},r.requestsCount=0,r.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",s):"function"==typeof addEventListener&&(n="onpagehide"in self?"pagehide":"unload",addEventListener(n,s,!1)))},function(t,e,n){function o(t){var e=t&&t.forceBase64;h&&!e||(this.supportsBinary=!1),i.call(this,t)}var i=n(20),r=n(29),s=n(21),a=n(30),c=n(31),l=n(3)("engine.io-client:polling"),h=(t.exports=o,null!=new(n(16))({xdomain:!1}).responseType);a(o,i),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(t){function e(){l("paused"),o.readyState="paused",t()}var n,o=this;this.readyState="pausing",this.polling||!this.writable?(n=0,this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||e()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||e()}))):e()},o.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(t){var o=this;l("polling got data %s",t);s.decodePayload(t,this.socket.binaryType,function(t,e,n){return"opening"===o.readyState&&o.onOpen(),"close"===t.type?(o.onClose(),!1):void o.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){function t(){l("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},o.prototype.write=function(t){function e(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;s.encodePayload(t,this.supportsBinary,function(t){n.doWrite(t,e)})},o.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.port&&("https"==e&&443!==Number(this.port)||"http"==e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var i=n(21);n(8)((t.exports=o).prototype),o.prototype.onError=function(t,e){t=new Error(t);return t.type="TransportError",t.description=e,this.emit("error",t),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){t=i.decodePacket(t,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,d,e){function u(t,e,n){var o,i,r,s;return e?l?(o=t,r=n,(i=e)?((s=new FileReader).onload=function(){d.encodePacket({type:o.type,data:s.result},i,!0,r)},s.readAsArrayBuffer(o.data)):d.encodeBase64Packet(o,r)):((e=new Uint8Array(1))[0]=m[t.type],n(new g([e.buffer,t.data]))):d.encodeBase64Packet(t,n)}function r(t,e,n){for(var i=new Array(t.length),o=a(t.length,n),r=0;r<t.length;r++)!function(n,t,o){e(t,function(t,e){i[n]=e,o(t,i)})}(r,t[r],o)}var i,n=e(22),s=e(23),p=e(24),a=e(25),f=e(26),o=("undefined"!=typeof ArrayBuffer&&(i=e(27)),"undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent)),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=o||c,m=(d.protocol=3,d.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6}),h=n(m),y={type:"error",data:"parser error"},g=e(28);d.encodePacket=function(t,e,n,o){"function"==typeof e&&(o=e,e=!1),"function"==typeof n&&(o=n,n=null);var i=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer){var r=t,s=o;if(!(a=e))return d.encodeBase64Packet(r,s);var a=r.data,c=new Uint8Array(a),l=new Uint8Array(1+a.byteLength);l[0]=m[r.type];for(var h=0;h<c.length;h++)l[h+1]=c[h];return s(l.buffer)}return void 0!==g&&i instanceof g?u(t,e,o):i&&i.base64?o("b"+d.packets[t.type]+t.data.data):(a=m[t.type],void 0!==t.data&&(a+=n?f.encode(String(t.data),{strict:!1}):String(t.data)),o(""+a))},d.encodeBase64Packet=function(e,n){var o,i,r="b"+d.packets[e.type];if(void 0!==g&&e.data instanceof g)return(o=new FileReader).onload=function(){var t=o.result.split(",")[1];n(r+t)},o.readAsDataURL(e.data);try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];i=String.fromCharCode.apply(null,a)}return r+=btoa(i),n(r)},d.decodePacket=function(t,e,n){var o;return void 0===t?y:"string"==typeof t?"b"===t.charAt(0)?d.decodeBase64Packet(t.substr(1),e):(!n||!1!==(t=function(t){try{t=f.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))&&(o=t.charAt(0),Number(o)==o)&&h[o]?1<t.length?{type:h[o],data:t.substring(1)}:{type:h[o]}:y:(o=new Uint8Array(t)[0],n=p(t,1),g&&"blob"===e&&(n=new g([n])),{type:h[o],data:n})},d.decodeBase64Packet=function(t,e){var n,o=h[t.charAt(0)];return i?(n=i.decode(t.substr(1)),{type:o,data:n="blob"===e&&g?new g([n]):n}):{type:o,data:{base64:!0,data:t.substr(1)}}},d.encodePayload=function(t,n,o){"function"==typeof n&&(o=n,n=null);var i=s(t);return n&&i?g&&!l?d.encodePayloadAsBlob(t,o):d.encodePayloadAsArrayBuffer(t,o):t.length?void r(t,function(t,e){d.encodePacket(t,!!i&&n,!1,function(t){e(null,t.length+":"+t)})},function(t,e){return o(e.join(""))}):o("0:")},d.decodePayload=function(t,e,n){if("string"!=typeof t)return d.decodePayloadAsBinary(t,e,n);if("function"==typeof e&&(n=e,e=null),""===t)return n(y,0,1);for(var o,i,r="",s=0,a=t.length;s<a;s++){var c=t.charAt(s);if(":"===c){if(""===r||r!=(o=Number(r)))return n(y,0,1);if(r!=(i=t.substr(s+1,o)).length)return n(y,0,1);if(i.length){if(i=d.decodePacket(i,e,!1),y.type===i.type&&y.data===i.data)return n(y,0,1);if(!1===n(i,s+o,a))return}s+=o,r=""}else r+=c}return""!==r?n(y,0,1):void 0},d.encodePayloadAsArrayBuffer=function(t,o){return t.length?void r(t,function(t,e){d.encodePacket(t,!0,!0,function(t){return e(null,t)})},function(t,e){var n=e.reduce(function(t,e){e="string"==typeof e?e.length:e.byteLength;return t+e.toString().length+e+2},0),s=new Uint8Array(n),a=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var o=new Uint8Array(t.length),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);n=o.buffer}s[a++]=e?0:1;for(var r=n.byteLength.toString(),i=0;i<r.length;i++)s[a++]=parseInt(r[i]);s[a++]=255;for(o=new Uint8Array(n),i=0;i<o.length;i++)s[a++]=o[i]}),o(s.buffer)}):o(new ArrayBuffer(0))},d.encodePayloadAsBlob=function(t,n){r(t,function(t,s){d.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),r=new Uint8Array(i.length+1),o=0;o<i.length;o++)r[o]=parseInt(i[o]);r[i.length]=255,g&&(e=new g([e.buffer,r.buffer,t]),s(null,e))})},function(t,e){return n(new g(e))})},d.decodePayloadAsBinary=function(t,n,o){"function"==typeof n&&(o=n,n=null);for(var e=t,i=[];0<e.byteLength;){for(var r=new Uint8Array(e),s=0===r[0],a="",c=1;255!==r[c];c++){if(310<a.length)return o(y,0,1);a+=r[c]}var e=p(e,2+a.length),a=parseInt(a),l=p(e,0,a);if(s)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){for(var h=new Uint8Array(l),l="",c=0;c<h.length;c++)l+=String.fromCharCode(h[c])}i.push(l),e=p(e,a)}var u=i.length;i.forEach(function(t,e){o(d.decodePacket(t,n,!0),e,u)})}},function(t,e){t.exports=Object.keys||function(t){var e,n=[],o=Object.prototype.hasOwnProperty;for(e in t)o.call(t,e)&&n.push(e);return n}},function(t,e,n){var r=n(10),n=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);t.exports=function t(e){if(e&&"object"==typeof e)if(r(e)){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return!0}else{if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||a&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}},function(t,e){t.exports=function(t,e,n){var o=t.byteLength;if(e=e||0,n=n||o,t.slice)return t.slice(e,n);if(e<0&&(e+=o),n<0&&(n+=o),o<n&&(n=o),o<=e||n<=e||0===o)return new ArrayBuffer(0);for(var i=new Uint8Array(t),r=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)r[a]=i[s];return r.buffer}},function(t,e){function s(){}t.exports=function(t,n,o){function i(t,e){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(r=!0,n(t),n=o):0!==i.count||r||n(null,e)}var r=!1;return o=o||s,0===(i.count=t)?n():i}},function(t,e){function h(t){for(var e,n,o=[],i=0,r=t.length;i<r;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<r?56320==(64512&(n=t.charCodeAt(i++)))?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),i--):o.push(e);return o}function u(t,e){if(!(55296<=t&&t<=57343))return 1;if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function d(t,e){return g(t>>e&63|128)}function p(){if(m<=y)throw Error("Invalid byte index");var t=255&f[y];if(y++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}var f,m,y,g=String.fromCharCode;t.exports={version:"2.1.2",encode:function(t,e){for(var n,o,i,r=!1!==(e=e||{}).strict,s=h(t),a=s.length,c=-1,l="";++c<a;)n=s[c],l+=(o=r,i=void 0,0==(4294967168&(n=n))?g(n):(i="",0==(4294965248&n)?i=g(n>>6&31|192):0==(4294901760&n)?(u(n,o)||(n=65533),i=g(n>>12&15|224),i+=d(n,6)):0==(4292870144&n)&&(i=g(n>>18&7|240),i=(i+=d(n,12))+d(n,6)),i+g(63&n|128)));return l},decode:function(t,e){var n=!1!==(e=e||{}).strict;f=h(t),m=f.length,y=0;for(var o,i=[];!1!==(o=function(t){var e,n;if(m<y)throw Error("Invalid byte index");if(y==m)return!1;if(e=255&f[y],y++,0==(128&e))return e;if(192==(224&e)){if(128<=(n=(31&e)<<6|p()))return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if(2048<=(n=(15&e)<<12|p()<<6|p()))return u(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&65536<=(n=(7&e)<<18|p()<<12|p()<<6|p())&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}(n));)i.push(o);for(var r,s=i,a=s.length,c=-1,l="";++c<a;)65535<(r=s[c])&&(l+=g((r-=65536)>>>10&1023|55296),r=56320|1023&r),l+=g(r);return l}}},function(t,e){!function(){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(256),t=0;t<r.length;t++)h[r.charCodeAt(t)]=t;e.encode=function(t){for(var e=new Uint8Array(t),n=e.length,o="",i=0;i<n;i+=3)o=(o=(o=(o+=r[e[i]>>2])+r[(3&e[i])<<4|e[i+1]>>4])+r[(15&e[i+1])<<2|e[i+2]>>6])+r[63&e[i+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){for(var e,n,o,i,r=.75*t.length,s=t.length,a=0,r=("="===t[t.length-1]&&(r--,"="===t[t.length-2])&&r--,new ArrayBuffer(r)),c=new Uint8Array(r),l=0;l<s;l+=4)e=h[t.charCodeAt(l)],n=h[t.charCodeAt(l+1)],o=h[t.charCodeAt(l+2)],i=h[t.charCodeAt(l+3)],c[a++]=e<<2|n>>4,c[a++]=(15&n)<<4|o>>2,c[a++]=(3&o)<<6|63&i;return r}}()},function(t,e){function o(t){return t.map(function(t){var e,n;return t.buffer instanceof ArrayBuffer?(e=t.buffer,t.byteLength!==e.byteLength&&((n=new Uint8Array(t.byteLength)).set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer),e):t})}function n(t,e){e=e||{};var n=new r;return o(t).forEach(function(t){n.append(t)}),e.type?n.getBlob(e.type):n.getBlob()}function i(t,e){return new Blob(o(t),e||{})}var r="undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=r&&r.prototype.append&&r.prototype.getBlob;"undefined"!=typeof Blob&&(n.prototype=Blob.prototype,i.prototype=Blob.prototype),t.exports=s?a?Blob:i:c?n:void 0},function(t,e){e.encode=function(t){var e,n="";for(e in t)t.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n},e.decode=function(t){for(var e={},n=t.split("&"),o=0,i=n.length;o<i;o++){var r=n[o].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}},function(t,e){t.exports=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){"use strict";function n(t){for(var e="";e=r[t%s]+e,0<(t=Math.floor(t/s)););return e}function o(){var t=n(+new Date);return t!==i?(c=0,i=t):t+"."+n(c++)}for(var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,a={},c=0,l=0;l<s;l++)a[r[l]]=l;o.encode=n,o.decode=function(t){var e=0;for(l=0;l<t.length;l++)e=e*s+a[t.charAt(l)];return e},t.exports=o},function(s,t,a){!function(n){function o(){}function t(t){i.call(this,t),this.query=this.query||{},r||(t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=t.___eio=t.___eio||[]),this.index=r.length;var e=this;r.push(function(t){e.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){e.script&&(e.script.onerror=o)},!1)}var i=a(19),e=a(30);s.exports=t;var r,l=/\n/g,h=/\\n/g;e(t,i),t.prototype.supportsBinary=!1,t.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},t.prototype.doPoll=function(){var e=this,t=document.createElement("script"),n=(this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)},document.getElementsByTagName("script")[0]);n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},t.prototype.doWrite=function(t,e){function n(){o(),e()}function o(){if(c.iframe)try{c.form.removeChild(c.iframe)}catch(t){c.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+c.iframeId+'">';i=document.createElement(t)}catch(t){(i=document.createElement("iframe")).name=c.iframeId,i.src="javascript:0"}i.id=c.iframeId,c.form.appendChild(i),c.iframe=i}var i,r,s,a,c=this;this.form||(r=document.createElement("form"),s=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index,r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=a,r.method="POST",r.setAttribute("accept-charset","utf-8"),s.name="d",r.appendChild(s),document.body.appendChild(r),this.form=r,this.area=s),this.form.action=this.uri(),o(),t=t.replace(h,"\\\n"),this.area.value=t.replace(l,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===c.iframe.readyState&&n()}:this.iframe.onload=n}}.call(t,function(){return this}())},function(t,e,n){function o(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=i&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(d=r),s.call(this,t)}var i,r,s=n(20),a=n(21),c=n(29),l=n(30),h=n(31),u=n(3)("engine.io-client:websocket");if("undefined"==typeof self)try{r=n(34)}catch(t){}else i=self.WebSocket||self.MozWebSocket;var d=i||r;l(t.exports=o,s),o.prototype.name="websocket",o.prototype.supportsBinary=!0,o.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new d(t,e):new d(t):new d(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},o.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},o.prototype.write=function(t){var o=this;this.writable=!1;for(var i=t.length,e=0,n=i;e<n;e++)!function(n){a.encodePacket(n,o.supportsBinary,function(t){var e;o.usingBrowserWebSocket||(e={},n.options&&(e.compress=n.options.compress),o.perMessageDeflate&&("string"==typeof t?Buffer.byteLength(t):t.length)<o.perMessageDeflate.threshold&&(e.compress=!1));try{o.usingBrowserWebSocket?o.ws.send(t):o.ws.send(t,e)}catch(t){u("websocket closed before onclose event")}--i||(o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0))})}(t[e])},o.prototype.onClose=function(){s.prototype.onClose.call(this)},o.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},o.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!==Number(this.port)||"ws"==e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=h()),this.supportsBinary||(t.b64=1),(t=c.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},o.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===o.prototype.name)}},function(t,e){},function(t,e){var o=[].indexOf;t.exports=function(t,e){if(o)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e,n){"use strict";function o(t,e,n){this.io=t,this.nsp=e,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(7),s=n(8),a=n(37),c=n(38),l=n(39),h=n(3)("socket.io-client:socket"),u=n(29),d=n(23),p=(t.exports=o,{connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1}),f=s.prototype.emit;s(o.prototype),o.prototype.subEvents=function(){var t;this.subs||(t=this.io,this.subs=[c(t,"open",l(this,"onopen")),c(t,"packet",l(this,"onpacket")),c(t,"close",l(this,"onclose"))])},o.prototype.open=o.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},o.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},o.prototype.emit=function(t){var e;return p.hasOwnProperty(t)?f.apply(this,arguments):(t=a(arguments),(e={type:(void 0!==this.flags.binary?this.flags.binary:d(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}}).options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),e.id=this.ids++),this.connected?this.packet(e):this.sendBuffer.push(e),this.flags={}),this},o.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},o.prototype.onopen=function(){var t;h("transport is open - connecting"),"/"!==this.nsp&&(this.query?(t="object"===i(this.query)?u.encode(this.query):this.query,h("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})):this.packet({type:r.CONNECT}))},o.prototype.onclose=function(t){h("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},o.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},o.prototype.onevent=function(t){var e=t.data||[];h("emitting event %j",e),null!=t.id&&(h("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},o.prototype.ack=function(e){var n=this,o=!1;return function(){var t;o||(o=!0,t=a(arguments),h("sending ack %j",t),n.packet({type:d(t)?r.BINARY_ACK:r.ACK,id:e,data:t}))}},o.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(h("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):h("bad ack %s",t.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){for(var t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(t){return this.flags.compress=t,this},o.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e){for(var n=[],o=(e=e||0)||0;o<t.length;o++)n[o-e]=t[o];return n}},function(t,e){"use strict";t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var o=[].slice;t.exports=function(t,e){if("function"!=typeof(e="string"==typeof e?t[e]:e))throw new Error("bind() requires a function");var n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}}},function(t,e){function n(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=0<t.jitter&&t.jitter<=1?t.jitter:0,this.attempts=0}(t.exports=n).prototype.duration=function(){var t,e,n=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(t=Math.random(),e=Math.floor(t*this.jitter*n),n=0==(1&Math.floor(10*t))?n-e:n+e),0|Math.min(n,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}],i={},n.m=o,n.c=i,n.p="",n(0);function n(t){var e;return(i[t]||(e=i[t]={exports:{},id:t,loaded:!1},o[t].call(e.exports,e,e.exports,n),e.loaded=!0,e)).exports}var o,i}),function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t,t.document)}):"object"==typeof module&&module.exports?module.exports=e(t,t.document):(void 0===t.tail&&(t.tail={}),t.tail.DateTime=t.tail.datetime=e(t,t.document),"undefined"!=typeof jQuery&&(jQuery.fn.DateTime=jQuery.fn.datetime=function(t){var e,n=[];return this.each(function(){!1!==(e=tail.DateTime(this,t))&&n.push(e)}),1===n.length?n[0]:0!==n.length&&n}),"undefined"!=typeof MooTools&&(Element.implement({DateTime:function(t){return new tail.DateTime(this,t)}}),Element.implement({datetime:function(t){return new tail.DateTime(this,t)}})))}(window,function(h,u){"use strict";function d(t,e){return t&&"classList"in t&&t.classList.contains(e)}function o(t,e){t&&"classList"in t&&t.classList.add(e)}function i(t,e){t&&"classList"in t&&t.classList.remove(e)}function r(t,e,n){var o;CustomEvent&&CustomEvent.name?o=new CustomEvent(e,n):(o=u.createEvent("CustomEvent")).initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),t.dispatchEvent(o)}function a(t,e){if("function"==typeof Object.assign)return Object.assign({},t,e||{});var n,o=Object.constructor();for(n in t)o[n]=(n in e?e:t)[n];return o}function p(t,e){t=u.createElement(t);return t.className=e&&e.join?e.join(" "):e||"",t}function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}function l(t,e,n){t=t instanceof Date?t:!!t&&new Date(t);return t instanceof Date&&!isNaN(t.getDate())&&(n&&t.setHours(0,0,0,0),!0===e?t.getTime():t)}u.forms.inputmode=!0;function f(t,e){if((t="string"==typeof t?u.querySelectorAll(t):t)instanceof NodeList||t instanceof HTMLCollection||t instanceof Array){for(var n=[],o=t.length,i=0;i<o;i++)n.push(new f(t[i],e));return 1===n.length?n[0]:0!==n.length&&n}var r;return t instanceof Element&&(this instanceof f?f.inst[t.getAttribute("data-tail-datetime")]?f.inst[t.getAttribute("data-tail-datetime")]:(t.getAttribute("data-datetime")&&(r=JSON.parse(t.getAttribute("data-datetime").replace(/\'/g,'"')))instanceof Object&&(e=a(e,r)),this.e=t,this.id=++f.count,this.con=a(f.defaults,e),(f.inst["tail-"+this.id]=this).e.setAttribute("data-tail-datetime","tail-"+this.id),this.init()):new f(t,e))}return f.version="0.4.13",f.status="beta",f.count=0,f.inst={},f.defaults={animate:!0,classNames:!1,closeButton:!0,dateFormat:"YYYY-mm-dd",dateStart:!1,dateRanges:[],dateBlacklist:!0,dateEnd:!1,locale:"en",position:"bottom",rtl:"auto",startOpen:!1,stayOpen:!1,time12h:!1,timeFormat:"HH:ii:ss",timeHours:!0,timeMinutes:!0,timeSeconds:0,timeIncrement:!0,timeStepHours:1,timeStepMinutes:5,timeStepSeconds:5,today:!0,tooltips:[],viewDefault:"days",viewDecades:!0,viewYears:!0,viewMonths:!0,viewDays:!0,weekStart:0},f.strings={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shorts:["SUN","MON","TUE","WED","THU","FRI","SAT"],time:["Hours","Minutes","Seconds"],header:["Select a Month","Select a Year","Select a Decade","Select a Time"]},modify:function(t,e,n){if(!(t in this))return!1;if(e instanceof Object)for(var o in e)this.modify(t,o,e[o]);else this[t][e]="string"==typeof n?n:this[t][e];return!0},register:function(t,e){return"string"==typeof t&&e instanceof Object&&(this[t]=e,!0)}},f.prototype={init:function(){this.prepare();var t=this.__.shorts.slice(this.con.weekStart).concat(this.__.shorts.slice(0,this.con.weekStart));this.weekdays="<thead>\n<tr>\n";for(var e=0;e<7;e++)this.weekdays+='<th class="calendar-week">'+t[e]+"</th>";this.weekdays+="\n</tr>\n</thead>",this.select=l(this.e.getAttribute("data-value")||this.e.value),(!this.select||this.select<this.con.dateStart||this.select>this.con.dateEnd)&&(this.select=null),null==this.view&&(this.view={type:this.con.viewDefault,date:this.select||new Date});for(var n=["Hours","Minutes","Seconds"],e=0;e<3;e++)if("number"==typeof this.con["time"+n[e]])this.view.date["set"+n[e]](this.con["time"+n[e]]);else for(;this.view.date["get"+n[e]]()%this.con["timeStep"+n[e]]!=0;)this.view.date["set"+n[e]](this.view.date["get"+n[e]]()+1);return this.ampm=12<this.view.date.getHours(),this.events={},this.dt=this.renderCalendar(),this.con.startOpen&&this.open(),this.select&&this.selectDate(this.select),this.bind()},prepare:function(){if(this.__=a(f.strings.en,f.strings[this.con.locale]||{}),this.con.dateStart=l(this.con.dateStart,!0,!0)||-9999999999999,this.con.dateEnd=l(this.con.dateEnd,!0,!0)||9999999999999,this.con.viewDefault=this.con.dateFormat?this.con.viewDefault:"time","string"==typeof this.con.weekStart&&(this.con.weekStart=f.strings.en.shorts.indexOf(this.con.weekStart)),this.con.weekStart<0&&6<this.con.weekStart&&(this.con.weekStart=0),0<this.con.dateRanges.length){for(var t=[],e=(i=this.con.dateRanges).length,n=0;n<e;n++)i[n]instanceof Object&&(i[n].start||i[n].days)&&(!1===(i[n].start=l(i[n].start||!1,!0,!0))?i[n].start=i[n].end=1/0:(!1===(i[n].end=l(i[n].end||!1,!0,!0))&&(i[n].end=i[n].start),i[n].start=i[n].start>i[n].end?[i[n].end,i[n].end=i[n].start][0]:i[n].start),i[n].days=!("days"in i[n])||i[n].days,i[n].days="boolean"!=typeof i[n].days?function(t){for(var e=[],n=t.length,o=0;o<n;o++)"string"==typeof t[o]&&(t[o]=f.strings.en.shorts.indexOf(t[o])),0<=t[o]&&t[o]<=6&&e.push(t[o]);return e}(i[n].days instanceof Array?i[n].days:[i[n].days]):[0,1,2,3,4,5,6],t.push({start:i[n].start,end:i[n].end,days:i[n].days}));this.con.dateRanges=t}if(0<this.con.tooltips.length){for(var o,i,t=[],r=this.con.tooltips,e=r.length,n=0;n<e;n++)r[n]instanceof Object&&r[n].date&&(r[n].date instanceof Array?(o=l(r[n].date[0]||!1,!0,!0),i=l(r[n].date[1]||!1,!0,!0)||o):o=i=l(r[n].date||!1,!0,!0),o)&&t.push({date:o!==i?[o,i]:o,text:r[n].text||"Tooltip",color:r[n].color||"inherit",element:r[n].element||((s=u.createElement("DIV")).className="calendar-tooltip",s.innerHTML='<div class="tooltip-inner">'+r[n].text||"Tooltip</div>",s)});this.con.tooltips=t}var s;return this},bind:function(){var e=this;return void 0===this._bind&&(this.e.addEventListener("focusin",function(t){e.open.call(e)}),this.e.addEventListener("keyup",function(t){e.callback.call(e,t)}),u.addEventListener("keyup",function(t){e.dt.contains(t.target)&&e.callback.call(e,t)}),u.addEventListener("click",function(t){e.dt.contains(t.target)?e.callback.call(e,t):e.e.contains(t.target)||!d(e.dt,"calendar-open")||t.target==e.dt||t.target==e.e||e.con.stayOpen||e.close.call(e)}),u.addEventListener("mouseover",function(t){e.dt.contains(t.target)&&e.callback.call(e,t)}),this._bind=!0),this},callback:function(t){var e=t.target,n="getAttribute",o="data-action",i=!e[n](o)&&e.parentElement[n](o)?e.parentElement:e,r="data-tooltip";if("mouseover"==t.type&&(!1!==(e=e[n](r)?e:!!i[n](r)&&i)?this.dt.querySelector("#tooltip-"+e[n](r)+"-"+e[n](r+"-time"))||this.showTooltip(e[n](r),e,e[n](r+"-time")):this.dt.querySelector(".calendar-tooltip:not(.remove)")&&this.hideTooltip(this.dt.querySelector(".calendar-tooltip").id.slice(8))),"click"==t.type){if(!i||1!=t.buttons&&1!=(t.which||t.button))return;if(i.hasAttribute("data-disabled"))return;switch(i[n](o)){case"prev":case"next":return this.browseView(i[n](o));case"cancel":this.con.stayOpen||this.close();break;case"submit":return this.con.stayOpen||this.close(),this.selectDate(this.fetchDate(parseInt(i[n]("data-date"))));case"view":return this.switchDate(i[n]("data-year")||null,i[n]("data-month")||null,i[n]("data-day")||null),this.switchView(i[n]("data-view"))}}if("keyup"==t.type){if("INPUT"!=t.target.tagName&&t.target!==this.e&&/calendar-(static|close)/i.test(this.dt.className))return!1;13==(t.keyCode||t.which)&&(this.selectDate(this.fetchDate(this.select)),t.stopPropagation(),this.con.stayOpen||this.close()),27!=(t.keyCode||t.which)||this.con.stayOpen||this.close()}},trigger:function(t){var e={bubbles:!1,cancelable:!0,detail:{args:arguments,self:this}};"change"==t&&(r(this.e,"input",e),r(this.e,"change",e)),r(this.dt,"tail::"+t,e);for(var n=(this.events[t]||[]).length,o=0;o<n;o++)this.events[t][o].cb.apply(this,function(t,e,n){for(var o=e.length,i=0;i<o;++i)t[i-1]=e[i];return t[i]=n,t}(new Array(arguments.length),arguments,this.events[t][o].args));return!0},calcPosition:function(){var t=this.dt.style,e=h.getComputedStyle(this.dt),n=parseInt(e.marginLeft)+parseInt(e.marginRight),o=parseInt(e.marginTop)+parseInt(e.marginBottom),i=this.e.getBoundingClientRect().top+h.scrollY,r=this.e.getBoundingClientRect().left-h.scrollX,s=this.e.offsetWidth||0,a=this.e.offsetHeight||0;switch(t.visibility="hidden",this.con.position){case"top":var c=i-(this.dt.offsetHeight+o),l=r+s/2-(this.dt.offsetWidth/2+n/2);break;case"left":c=i+a/2-(this.dt.offsetHeight/2+o),l=r-(this.dt.offsetWidth+n);break;case"right":c=i+a/2-(this.dt.offsetHeight/2+o),l=r+s;break;default:c=i+a,l=r+s/2-(this.dt.offsetWidth/2+n/2)}return t.top=(0<=c?c:this.e.offsetTop)+"px",t.left=(0<=l?l:0)+"px",t.visibility="visible",this},convertDate:function(t,e){var n={H:String("00"+t.getHours()).toString().slice(-2),G:t.getHours()%12||12,A:12<=t.getHours()?"PM":"AM",a:12<=t.getHours()?"pm":"am",i:String("00"+t.getMinutes()).toString().slice(-2),s:String("00"+t.getSeconds()).toString().slice(-2),Y:t.getFullYear(),y:parseInt(t.getFullYear().toString().slice(2)),m:String("00"+(t.getMonth()+1)).toString().slice(-2),M:this.__.months[t.getMonth()].slice(0,3),F:this.__.months[t.getMonth()],d:String("00"+t.getDate()).toString().slice(-2),D:this.__.days[t.getDay()],l:this.__.shorts[t.getDay()].toLowerCase()};return e.replace(/([HGismd]{1,2}|[Y]{2,4}|y{2})/g,function(t){return 4==t.length||2==t.length?n[t.slice(-1)].toString().slice(-Math.abs(t.length)):1==t.length&&"0"==t[0]?n[t.slice(-1)].toString().slice(-1):n[t.slice(-1)].toString()}).replace(/(A|a|M|F|D|l)/g,function(t){return n[t]})},renderCalendar:function(){var t,e,n=["tail-datetime-calendar","calendar-close"],o=!0===this.con.classNames?this.e.className.split(" "):this.con.classNames,o=(["top","left","right","bottom"].indexOf(this.con.position)<0&&(t=u.querySelector(this.con.position),n.push("calendar-static")),(!0===this.con.rtl||0<=["ar","he","mdr","sam","syr"].indexOf(this.con.rtl))&&n.push("rtl"),this.con.stayOpen&&n.push("calendar-stay"),p("DIV",n=(o="function"==typeof o.split?o.split(" "):o)instanceof Array?n.concat(o):n)),n=!1;return o.id="tail-datetime-"+this.id,this.con.dateFormat?n='<span class="action action-prev" data-action="prev"></span><span class="label" data-action="view" data-view="up"></span><span class="action action-next" data-action="next"></span>':this.con.timeFormat&&(n='<span class="action action-submit" data-action="submit"></span><span class="label"></span><span class="action action-cancel" data-action="cancel"></span>'),o.innerHTML=n?'<div class="calendar-actions">'+n+"</div>":"",this.con.dateFormat&&this.renderDatePicker(o,this.con.viewDefault),this.con.timeFormat&&this.renderTimePicker(o),this.con.closeButton&&!t&&(n=p("BUTTON","calendar-close"),e=this,n.addEventListener("click",function(t){t.preventDefault(),e.close()}),o.appendChild(n)),(t||u.body).appendChild(o),o},renderDatePicker:function(t,e){var n;return!!((e=!e||["decades","years","months","days"].indexOf(e)<0?this.con.viewDays?"days":this.con.viewMonths?"months":this.con.viewYears?"years":!!this.con.viewDecades&&"decades":e)&&this.con["view"+c(e)]&&this.con.dateFormat)&&((n=u.createElement("DIV")).className="calendar-datepicker calendar-view-"+e,n.innerHTML=this["view"+c(e)](),t.querySelector(".calendar-datepicker")?t.replaceChild(n,t.querySelector(".calendar-datepicker")):t.appendChild(n),this.view.type=e,this.handleLabel(t))},renderTimePicker:function(t){if(!this.con.timeFormat)return!1;var e,n,o,i=[],r=0;for(o in this.con.time12h&&(s=12<this.view.date.getHours()?'checked="checked" ':"",i.push('<label class="timepicker-switch" data-am="AM" data-pm="PM"><input type="checkbox" value="1" data-input="PM" '+s+"/><span></span></label>")),{Hours:0,Minutes:0,Seconds:0})!1!==this.con["time"+o]?((e=u.createElement("INPUT")).type="text",e.disabled=null===this.con["time"+o],e.setAttribute("min","Hours"===o&&this.con.time12h?"01":"00"),e.setAttribute("max","Hours"!==o?"60":this.con.time12h?"13":"24"),e.setAttribute("step",this.con["timeStep"+o]),e.setAttribute("value",(n=this.view.date["get"+o]())<10?"0"+n:n),e.setAttribute("pattern","d*"),e.setAttribute("inputmode","numeric"),e.setAttribute("data-input",o.toLowerCase()),i.push('<div class="timepicker-field timepicker-'+o.toLowerCase()+'">'+e.outerHTML+'<button class="picker-step step-up"></button><button class="picker-step step-down"></button><label>'+this.__.time[r++]+"</label></div>")):i.push((r++,null));for(var s=p("DIV","calendar-timepicker"),a=this,c=(s.innerHTML=i.join("\n"),s.querySelectorAll("input")),r=0;r<c.length;r++)"checkbox"!==c[r].type?(c[r].addEventListener("input",function(t){a.handleTime.call(a,this)}),c[r].addEventListener("keydown",function(t){var e=event.keyCode||event.which||0;if(38===e||40===e)return t.preventDefault(),a.handleStep.call(a,this,38===e?"up":"down"),!1})):c[r].addEventListener("change",function(t){a.handleTime.call(a,this)});for(c=s.querySelectorAll("button"),r=0;r<c.length;r++)c[r].addEventListener("mousedown",function(t){t.preventDefault();t=this.parentElement.querySelector("input");return a.handleStep.call(a,t,d(this,"step-up")?"up":"down"),!1});var l=t.querySelector(".calendar-timepicker");return t[l?"replaceChild":"appendChild"](s,l),this.handleLabel(t)},handleTime:function(t){this.con.time12h&&"checkbox"===t.type&&(this.ampm=t.checked);t=[(t=t.parentElement.parentElement).querySelector("input[data-input=hours]")||{value:0},t.querySelector("input[data-input=minutes]")||{value:0},t.querySelector("input[data-input=seconds]")||{value:0}];this.selectTime(parseInt(t[0].value)+(this.ampm?12:0),parseInt(t[1].value),parseInt(t[2].value)),t[2].value=this.view.date.getSeconds(),t[1].value=this.view.date.getMinutes(),this.con.time12h?t[0].value=12<this.view.date.getHours()?this.view.date.getHours()-12:this.view.date.getHours():t[0].value=this.view.date.getHours()},handleStep:function(t,e,n){var o=!1,i=t.getAttribute("data-input"),r=this.con["timeStep"+c(i)],s=parseInt(t.value),i="hours"!==i?60:this.con.time12h?13:24;return"up"===e&&i<=s+r?(o=this.con.timeIncrement&&60==i,t.value=13==i?1:0,this.ampm=12<=this.view.date.getHours()+1):"down"===e&&s-r<(13==i?1:0)?(o=this.con.timeIncrement&&60==i,t.value=i-r,this.ampm=this.view.date.getHours()-1<=0):t.value="up"===e?s+r:s-r,t.value<10&&(t.value="0"+t.value),o&&(i=t.parentElement.previousElementSibling.querySelector("input"))&&!1===i.disabled&&this.handleStep(i,e,!0),(void 0===n||!0!==n)&&(s=t.parentElement.parentElement,this.selectTime(parseInt((s.querySelector("input[data-input=hours]")||{value:0}).value)+(this.ampm?12:0),parseInt((s.querySelector("input[data-input=minutes]")||{value:0}).value),parseInt((s.querySelector("input[data-input=seconds]")||{value:0}).value)),this.con.time12h&&(r=t.parentElement.parentElement.querySelector("input[type=checkbox]"))&&r.checked!==12<this.view.date.getHours()&&(r.checked=12<this.view.date.getHours()),!0)},handleLabel:function(t){var e,n,o=t.querySelector(".label");switch(this.view.type){case"days":e=this.__.months[this.view.date.getMonth()]+", "+this.view.date.getFullYear();break;case"months":e=this.view.date.getFullYear();break;case"years":e=(n=parseInt(this.view.date.getFullYear().toString().slice(0,3)+"0"))+" - "+(n+10);break;case"decades":e=(n=parseInt(this.view.date.getFullYear().toString().slice(0,2)+"00"))+" - "+(n+100);break;case"time":e=this.__.header[3]}return o.innerText=e,t},viewDecades:function(){var t=this.view.date.getFullYear(),e=new Date(this.view.date.getTime()),n=this.con.today?(new Date).getYear():0;e.setFullYear(t-parseInt(t.toString()[3])-30);for(var o,i,r=[],s=[],a=1;a<=16;a++)o="calendar-decade"+(n>=e.getYear()&&n<=e.getYear()+10?" date-today":""),i='data-action="view" data-view="down" data-year="'+e.getFullYear()+'"',r.push('<td class="'+o+'" '+i+'><span class="inner">'+e.getFullYear()+" - "+(e.getFullYear()+10)+"</span></td>"),4<=a&&a%4==0&&(s.push("<tr>\n"+r.join("\n")+"\n</tr>"),r=[]),e.setFullYear(e.getFullYear()+10);return'<table class="calendar-decades"><thead><tr><th colspan="4">'+this.__.header[2]+"</th></tr></thead><tbody>"+s.join("\n")+"</tbody></table>"},viewYears:function(){var t=this.view.date.getFullYear(),e=new Date(this.view.date.getTime()),n=this.con.today?(new Date).getYear():0;e.setFullYear(t-parseInt(t.toString()[3])-2);for(var o,i,r=[],s=[],a=1;a<=16;a++)o="calendar-year"+(e.getYear()==n?" date-today":""),i='data-action="view" data-view="down" data-year="'+e.getFullYear()+'"',r.push('<td class="'+o+'" '+i+'><span class="inner">'+e.getFullYear()+"</span></td>"),4<=a&&a%4==0&&(s.push("<tr>\n"+r.join("\n")+"\n</tr>"),r=[]),e.setFullYear(e.getFullYear()+1);return'<table class="calendar-years"><thead><tr><th colspan="4">'+this.__.header[1]+"</th></tr></thead><tbody>"+s.join("\n")+"</tbody></table>"},viewMonths:function(){for(var t=this.__.months,e=this.con.today?(new Date).getMonth():-1,e=this.view.date.getYear()==(new Date).getYear()?e:-1,n=[],o=[],i=0;i<12;i++)n.push('<td class="'+("calendar-month"+(e==i?" date-today":""))+'" '+('data-action="view" data-view="down" data-month="'+i+'"')+'><span class="inner">'+t[i]+"</span></td>"),3==n.length&&(o.push("<tr>\n"+n.join("\n")+"\n</tr>"),n=[]);return'<table class="calendar-months"><thead><tr><th colspan="3">'+this.__.header[0]+"</th></tr></thead><tbody>"+o.join("\n")+"</tbody></table>"},viewDays:function(){var n,t,e,o,i=new Date(this.view.date.getTime()),r=(new Date).toDateString(),s=i.getMonth(),a=[],c=[],l=[0,[]],h=[].concat(this.con.dateRanges),u=([].concat(this.con.tooltips),[0,0]);for(i.setHours(0,0,0,0),i.setDate(1),i.setDate(1-(i.getDay()-this.con.weekStart));c.length<6;)n=i.getTime(),e='data-action="submit" data-date="'+i.getTime()+'"',t="calendar-day date-"+(i.getMonth()>s?"next":i.getMonth()<s?"previous":"current"),this.con.today&&r==i.toDateString()&&(t+=" date-today"),this.con.dateBlacklist&&(n<this.con.dateStart||n>this.con.dateEnd)?l=[n<this.con.dateStart?this.con.dateStart:1/0,[0,1,2,3,4,5,6],!0]:0==l[0]?h=h.filter(function(t){return t.start==1/0||n>=t.start&&n<=t.end?!(l=[t.end,t.days]):t.start>n},this):3==l.length&&(l=[0,[0,1,2,3,4,5,6]]),0<this.con.tooltips.length&&this.con.tooltips.filter(function(t,e){t.date instanceof Array?t.date[0]<=n&&t.date[1]>=n&&(u=[t.date[1],e,t.color]):t.date==n&&(u=[t.date,e,t.color])},this),u[0]<n&&(u=[0,0]),(o=l[0]>=n&&0<=l[1].indexOf(i.getDay()))&&this.con.dateBlacklist||!o&&!this.con.dateBlacklist?(t+=" date-disabled",e+=' data-disabled="true"'):0!==l[0]&&l[0]<=n&&(l=[0,[]]),this.select&&this.select.toDateString()==i.toDateString()&&(t+=" date-select"),o='<span class="inner">'+i.getDate()+"</span>",0<u[0]&&(t+=" date-tooltip",e+=' data-tooltip="'+u[1]+'" data-tooltip-time="'+n+'"',"inherit"!==u[2]?o+='<span class="tooltip-tick" style="background:'+u[2]+';"></span>':o+='<span class="tooltip-tick"></span>'),a.push('<td class="'+t+'" '+e+">"+o+"</td>"),7==a.length&&(c.push("<tr>\n"+a.join("\n")+"\n</tr>"),a=[]),i.setDate(i.getDate()+1);return c="<tbody>"+c.join("\n")+"</tbody>",'<table class="calendar-days">'+this.weekdays+c+"</table>"},showTooltip:function(t,e,n){var o=this.con.tooltips[t].element,i=o.style,r=this.dt.querySelector(".calendar-datepicker");i.cssText="opacity:0;visibility:hidden;",o.id="tooltip-"+t+"-"+n,r.appendChild(o),t=o.offsetWidth,o.offsetHeight,i.top=e.offsetTop+e.offsetHeight+"px",i.left=e.offsetLeft+e.offsetWidth/2-t/2+"px",i.visibility="visible",this.con.animate?(o.setAttribute("data-top",parseInt(i.top)),i.top=parseInt(i.top)+5+"px",function t(){parseFloat(i.top)>o.getAttribute("data-top")&&(i.top=parseFloat(i.top)-.5+"px"),(i.opacity=parseFloat(i.opacity)+.125)<1&&setTimeout(t,20)}()):i.opacity=1},hideTooltip:function(t){var e=this.dt.querySelector("#tooltip-"+t),n=e.style;this.con.animate?(e.className+=" remove",function t(){return parseFloat(n.top)<parseInt(e.getAttribute("data-top"))+5&&(n.top=parseFloat(n.top)+.5+"px"),(n.opacity-=.125)<0?(e.className="calendar-tooltip",e.parentElement.removeChild(e)):void setTimeout(t,20)}()):e.parentElement.removeChild(e)},switchView:function(t){var e=[null,"days","months","years","decades",null];return-1==e.indexOf(t)&&("up"==t?t=e[(e.indexOf(this.view.type)||5)+1]||null:"down"==t&&(t=e[(e.indexOf(this.view.type)||1)-1]||null),t&&this.con["view"+c(t)]||(t=!1)),!!t&&(this.renderDatePicker(this.dt,t),this.trigger("view",t))},switchDate:function(t,e,n,o){return this.view.date.setFullYear(null==t?this.view.date.getFullYear():t),this.view.date.setMonth(null==e?this.view.date.getMonth():e),"auto"==n&&(t=this.view.date,e=new Date,n=t.getMonth()==e.getMonth()&&t.getYear()==e.getYear()?e.getDate():1),this.view.date.setDate(n||this.view.date.getDate()),!0===o||this.switchView(this.view.type)},switchMonth:function(t,e){return"string"==typeof t&&(t=0<=["previous","prev"].indexOf(t)?-1:1,t=this.view.date.getMonth()+type),this.switchDate(e||this.getFullYear(),t)},switchYear:function(t){return"string"==typeof t&&(t=0<=["previous","prev"].indexOf(t)?-1:1,t=this.view.date.getFullYear()+type),this.switchDate(t)},browseView:function(t){switch(t=0<=["previous","prev"].indexOf(t)?-1:1,this.view.type){case"days":return this.switchDate(null,this.view.date.getMonth()+t,"auto");case"months":return this.switchDate(this.view.date.getFullYear()+t,null,"auto");case"years":return this.switchDate(this.view.date.getFullYear()+10*t,null,"auto");case"decades":return this.switchDate(this.view.date.getFullYear()+100*t,null,"auto")}return!1},fetchDate:function(t){t=l(t||!1)||this.view.date;var e=this.dt.querySelectorAll("input[type=number]");return e&&3==e.length&&t.setHours(e[0].value||0,e[1].value||0,e[2].value||0,0),t},selectDate:function(t,e,n,o,i,r){var s=new Date,a=[];return this.con.dateFormat&&a.push(this.con.dateFormat),this.con.timeFormat&&a.push(this.con.timeFormat),this.select=t instanceof Date?t:new Date(t||(null==t?this.view.date:s).getFullYear(),e||(null==e?this.view.date:s).getMonth(),n||(null==n?this.view.date:s).getDate(),o||(null==o?this.view.date.getHours():0),i||(null==i?this.view.date.getMinutes():0),r||(null==r?this.view.date.getSeconds():0)),this.view.date=new Date(this.select.getTime()),this.e.value=this.convertDate(this.select,a.join(" ")),this.e.setAttribute("data-value",this.select.getTime()),this.switchView("days"),this.trigger("change")},selectTime:function(t,e,n){return this.selectDate(void 0,void 0,void 0,t,e,n)},open:function(){var e,n;return d(this.dt,"calendar-close")&&((n=(e=this).dt.style).display="block",n.opacity=this.con.animate?0:1,i(this.dt,"calendar-close"),o(this.dt,"calendar-idle"),d(this.dt,"calendar-static")||e.calcPosition(),function t(){return 1<=(n.opacity=parseFloat(n.opacity)+.125)?(i(e.dt,"calendar-idle"),o(e.dt,"calendar-open"),e.trigger("open")):void setTimeout(t,20)}()),this},close:function(){var e,n;return d(this.dt,"calendar-open")&&((n=(e=this).dt.style).display="block",n.opacity=this.con.animate?1:0,i(this.dt,"calendar-open"),o(this.dt,"calendar-idle"),function t(){return(n.opacity-=.125)<=0?(i(e.dt,"calendar-idle"),o(e.dt,"calendar-close"),n.display="none",e.trigger("close")):void setTimeout(t,20)}()),this},toggle:function(){return d(this.dt,"calendar-open")?this.close():d(this.dt,"calendar-close")?this.open():this},on:function(t,e,n){return!(["open","close","change","view"].indexOf(t)<0||"function"!=typeof e)&&(t in this.events||(this.events[t]=[]),this.events[t].push({cb:e,args:n instanceof Array?n:[]}),this)},remove:function(){return this.e.removeAttribute("data-tail-datetime"),this.e.removeAttribute("data-value"),this.dt.parentElement.removeChild(this.dt),this},reload:function(){return this.remove(),this.init()},config:function(t,e,n){if(t instanceof Object){for(var o in t)this.config(o,t[o],!1);return this.reload(),this.con}return void 0===t?this.con:t in this.con&&(void 0===e?this.con[t]:(this.con[t]=e,!1!==this.rebuild&&this.reload(),this))}},f}),function(){"use strict";var o=("undefined"==typeof window||window!==this)&&"undefined"!=typeof global&&null!=global?global:this,P="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function F(){F=function(){},o.Symbol||(o.Symbol=H)}j=0;var j,I,H=function(t){return"jscomp_symbol_"+(t||"")+j++};function q(){F();var t=(t=o.Symbol.iterator)||(o.Symbol.iterator=o.Symbol("iterator"));"function"!=typeof Array.prototype[t]&&P(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return U(this)}}),q=function(){}}function U(t){var e,n=0;return e=function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}},q(),(e={next:e})[o.Symbol.iterator]=function(){return this},e}function Y(t){q();var e=t[Symbol.iterator];return e?e.call(t):U(t)}if("function"==typeof Object.setPrototypeOf)jt=Object.setPrototypeOf;else{t:{var V={};try{V.__proto__={Ga:!0},I=V.Ga;break t}catch(t){}I=!1}jt=I?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var W,z,X,J,G,$,K,Q,Z,tt,et,nt,ot,it,rt,st,at,ct,lt,ht,ut,dt,pt,ft,mt,yt,gt,vt,bt,_t,wt,Ct,Et,St,Nt,Tt,kt=jt;function xt(){this.f=!1,this.b=null,this.ca=void 0,this.a=1,this.F=0,this.c=null}function Dt(t){if(t.f)throw new TypeError("Generator is already running");t.f=!0}function Ot(t,e){t.c={Ja:e,Na:!0},t.a=t.F}function At(t,e){return t.a=3,{value:e}}function Mt(t){this.a=new xt,this.b=t}function Lt(e,t,n,o){try{var i=t.call(e.a.b,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.f=!1,i;var r=i.value}catch(t){return e.a.b=null,Ot(e.a,t),Rt(e)}return e.a.b=null,o.call(e.a,r),Rt(e)}function Rt(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.f=!1,{value:t.value,done:!1}}catch(t){e.a.ca=void 0,Ot(e.a,t)}if(e.a.f=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.Na)throw t.Ja;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function Bt(o){this.next=function(t){return Dt(o.a),t=o.a.b?Lt(o,o.a.b.next,t,o.a.u):(o.a.u(t),Rt(o))},this.throw=function(t){return Dt(o.a),t=o.a.b?Lt(o,o.a.b.throw,t,o.a.u):(Ot(o.a,t),Rt(o))},this.return=function(t){return t=t,Dt((e=o).a),(n=e.a.b)?Lt(e,"return"in n?n.return:function(t){return{value:t,done:!0}},t,e.a.return):(e.a.return(t),Rt(e));var e,n},q(),this[Symbol.iterator]=function(){return this}}function Pt(t,e){return e=new Bt(new Mt(e)),kt&&kt(e,t.prototype),e}xt.prototype.u=function(t){this.ca=t},xt.prototype.return=function(t){this.c={return:t},this.a=this.F},window.WebComponents,(jt=document.createEvent("Event")).initEvent("foo",!0,!0),jt.preventDefault(),jt.defaultPrevented||(Ft=Event.prototype.preventDefault,Event.prototype.preventDefault=function(){this.cancelable&&(Ft.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))});var Ft,jt,It=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||It&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||It&&"function"!=typeof window.Event){var Ht=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},Ht)for(var qt in Ht)window.Event[qt]=Ht[qt];window.Event.prototype=Ht.prototype}if(!window.MouseEvent||It&&"function"!=typeof window.MouseEvent){if(It=window.MouseEvent,window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},It)for(qt in It)window.MouseEvent[qt]=It[qt];window.MouseEvent.prototype=It.prototype}function c(){}function Ut(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return Nt.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return Tt.call(t,e);default:return St.call(t,e)}}function Yt(t,e){if(t instanceof DocumentFragment)for(var n;n=t.firstChild;)z.call(this,n,e);else z.call(this,t,e);return t}Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t,e){for(var n,o=[].slice.call(arguments,1),i=0;i<o.length;i++)if(n=o[i])for(var r=t,s=n,a=Object.getOwnPropertyNames(s),c=0;c<a.length;c++)r[n=a[c]]=s[n];return t}),K="undefined"==typeof HTMLTemplateElement,Q=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),Z=!1,/Trident/.test(navigator.userAgent)&&(Z=!0,W=Node.prototype.cloneNode,Node.prototype.cloneNode=function(t){return t=W.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}}),z=Node.prototype.insertBefore,Node.prototype.insertBefore=Yt,X=Node.prototype.appendChild,Node.prototype.appendChild=function(t){return t instanceof DocumentFragment?Yt.call(this,t,null):X.call(this,t),t},J=Node.prototype.removeChild,G=Node.prototype.replaceChild,Node.prototype.replaceChild=function(t,e){return t instanceof DocumentFragment?(Yt.call(this,t,e),J.call(this,e)):G.call(this,t,e),e},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t},$=Document.prototype.importNode,Document.prototype.importNode=function(t,e){return e=$.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}),mt=Node.prototype.cloneNode,yt=Document.prototype.createElement,gt=Document.prototype.importNode,vt=Node.prototype.removeChild,bt=Node.prototype.appendChild,_t=Node.prototype.replaceChild,wt=DOMParser.prototype.parseFromString,Ct=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},Et=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},St=Element.prototype.querySelectorAll,Nt=Document.prototype.querySelectorAll,Tt=DocumentFragment.prototype.querySelectorAll,n=function(){var t,e;if(!K)return t=document.createElement("template"),(e=document.createElement("template")).content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||Q}(),K&&(tt=document.implementation.createHTMLDocument("template"),et=!0,(e=document.createElement("style")).textContent="template{display:none;}",(ce=document.head).insertBefore(e,ce.firstElementChild),c.prototype=Object.create(HTMLElement.prototype),nt=!document.createElement("div").hasOwnProperty("innerHTML"),c.P=function(t){if(!t.content&&t.namespaceURI===document.documentElement.namespaceURI){t.content=tt.createDocumentFragment();for(var e;e=t.firstChild;)bt.call(t.content,e);if(nt)t.__proto__=c.prototype;else if(t.cloneNode=function(t){return c.b(this,t)},et)try{it(t),rt(t)}catch(t){et=!1}c.a(t.content)}},ot={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},rt=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(tt.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();tt.body.firstChild;)bt.call(t,tt.body.firstChild);_t.call(this.parentNode,t,this)},configurable:!0})},(it=function(t){Object.defineProperty(t,"innerHTML",{get:function(){return ut(this)},set:function(t){var e=ot[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(t)||["",""])[1].toLowerCase()];if(e)for(var n=0;n<e.length;n++)t="<"+e[n]+">"+t+"</"+e[n]+">";for(tt.body.innerHTML=t,c.a(tt);this.content.firstChild;)vt.call(this.content,this.content.firstChild);if(t=tt.body,e)for(n=0;n<e.length;n++)t=t.lastChild;for(;t.firstChild;)bt.call(this.content,t.firstChild)},configurable:!0})})(c.prototype),rt(c.prototype),c.a=function(t){for(var e,n=0,o=(t=Ut(t,"template")).length;n<o&&(e=t[n]);n++)c.P(e)},document.addEventListener("DOMContentLoaded",function(){c.a(document)}),Document.prototype.createElement=function(){var t=yt.apply(this,arguments);return"template"===t.localName&&c.P(t),t},DOMParser.prototype.parseFromString=function(){var t=wt.apply(this,arguments);return c.a(t),t},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return ut(this)},set:function(t){Ct.set.call(this,t),c.a(this)},configurable:!0,enumerable:!0}),st=/[&\u00A0"]/g,at=/[&\u00A0<>]/g,ct=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}},lt=(e=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),ht=e("style script xmp iframe noembed noframes plaintext noscript".split(" ")),ut=function(t,e){"template"===t.localName&&(t=t.content);for(var n,o="",i=e?e(t):Et.get.call(t),r=0,s=i.length;r<s&&(n=i[r]);r++){t:{var a=n,c=t,l=e;switch(a.nodeType){case Node.ELEMENT_NODE:for(var h=a.localName,u="<"+h,d=a.attributes,p=0;c=d[p];p++)u+=" "+c.name+'="'+c.value.replace(st,ct)+'"';u+=">",a=lt[h]?u:u+ut(a,l)+"</"+h+">";break t;case Node.TEXT_NODE:a=a.data,a=c&&ht[c.localName]?a:a.replace(at,ct);break t;case Node.COMMENT_NODE:a="\x3c!--"+a.data+"--\x3e";break t;default:throw window.console.error(a),Error("not implemented")}}o+=a}return o}),(K||n)&&(c.b=function(t,e){var n=mt.call(t,!1);return this.P&&this.P(n),e&&(bt.call(n.content,mt.call(t.content,!0)),dt(n.content,t.content)),n},dt=function(t,e){if(e.querySelectorAll&&0!==(e=Ut(e,"template")).length)for(var n,o,i=0,r=(t=Ut(t,"template")).length;i<r;i++)o=e[i],n=t[i],c.P&&c.P(o),_t.call(n.parentNode,pt.call(o,!0),n)},pt=Node.prototype.cloneNode=function(t){if(!Z&&Q&&this instanceof DocumentFragment){if(!t)return this.ownerDocument.createDocumentFragment();var e=ft.call(this.ownerDocument,this,!0)}else e=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?c.b(this,t):mt.call(this,t);return t&&dt(e,this),e},ft=Document.prototype.importNode=function(t,e){if(e=e||!1,"template"===t.localName)return c.b(t,e);var n=gt.call(this,t,e);if(e){dt(n,t),t=Ut(n,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var o,i=0;i<t.length;i++){o=t[i],(e=yt.call(document,"script")).textContent=o.textContent;for(var r,s=o.attributes,a=0;a<s.length;a++)r=s[a],e.setAttribute(r.name,r.value);_t.call(o.parentNode,e,o)}}return n}),K&&(window.HTMLTemplateElement=c);var Vt=setTimeout;function Wt(){}function r(t){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.I=0,this.sa=!1,this.w=void 0,this.S=[],Kt(t,this)}function zt(n,o){for(;3===n.I;)n=n.w;0===n.I?n.S.push(o):(n.sa=!0,ae(function(){var t=1===n.I?o.Pa:o.Qa;if(null===t)(1===n.I?Xt:Jt)(o.oa,n.w);else{try{var e=t(n.w)}catch(t){return void Jt(o.oa,t)}Xt(o.oa,e)}}))}function Xt(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e.I=3,e.w=t,void Gt(e);if("function"==typeof n)return void Kt((o=n,i=t,function(){o.apply(i,arguments)}),e)}e.I=1,e.w=t,Gt(e)}catch(t){Jt(e,t)}var o,i}function Jt(t,e){t.I=2,t.w=e,Gt(t)}function Gt(t){2===t.I&&0===t.S.length&&ae(function(){t.sa||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t.w)});for(var e=0,n=t.S.length;e<n;e++)zt(t,t.S[e]);t.S=null}function $t(t,e,n){this.Pa="function"==typeof t?t:null,this.Qa="function"==typeof e?e:null,this.oa=n}function Kt(t,e){var n=!1;try{t(function(t){n||(n=!0,Xt(e,t))},function(t){n||(n=!0,Jt(e,t))})}catch(t){n||(n=!0,Jt(e,t))}}function Qt(e){return new r(function(i,r){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var s=Array.prototype.slice.call(e);if(0===s.length)return i([]);for(var a=s.length,t=0;t<s.length;t++)!function e(n,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if("function"==typeof o)return void o.call(t,function(t){e(n,t)},r)}s[n]=t,0==--a&&i(s)}catch(t){r(t)}}(t,s[t])})}r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new this.constructor(Wt);return zt(this,new $t(t,e,n)),n},r.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})};var Zt,te,ee,ne,oe,ie,re,se,ae="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){Vt(t,0)},t=(window.Promise||((window.Promise=r).all=Qt,r.race=function(i){return new r(function(t,e){for(var n=0,o=i.length;n<o;n++)i[n].then(t,e)})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(n){return new r(function(t,e){e(n)})},Zt=document.createTextNode(""),te=[],new MutationObserver(function(){for(var t=te.length,e=0;e<t;e++)te[e]();te.splice(0,t)}).observe(Zt,{characterData:!0}),ae=function(t){te.push(t),Zt.textContent=0<Zt.textContent.length?"":"a"}),Object),ce="getOwnPropertySymbols";if(!(ce in t)){var le=typeof global==typeof le?window:global,he=0,ue=""+Math.random(),de="__symbol@@"+ue,pe=t.getOwnPropertyNames,fe=t.getOwnPropertyDescriptor,me=t.create,ye=t.keys,ge=t.freeze||t,s=t.defineProperty,ve=t.defineProperties,e=fe(t,"getOwnPropertyNames"),i=t.prototype,be=i.hasOwnProperty,_e=i.propertyIsEnumerable,we=i.toString,Ce=function(t,e,n){be.call(t,de)||s(t,de,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[de]["@@"+e]=n},Ee=function(){},Se=function(t){return t!=de&&!be.call(xe,t)},Ne=function(t){return t!=de&&be.call(xe,t)},Te=function(t){var e=""+t;return Ne(e)?be.call(this,e)&&this[de]["@@"+e]:_e.call(this,t)},ke=function(e){return s(i,e,{enumerable:!1,configurable:!0,get:Ee,set:function(t){Le(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),Ce(this,e,!0)}}),ge(xe[e]=s(t(e),"constructor",De))},n=function(t){if(this&&this!==le)throw new TypeError("Symbol is not a constructor");return ke("__symbol:".concat(t||"",ue,++he))},xe=me(null),De={value:n},Oe=function(t){return xe[t]},Ae=function(t,e,n){var o,i=""+e;return Ne(i)?(e=Le,n.enumerable?(o=me(n)).enumerable=!1:o=n,e(t,i,o),Ce(t,i,!!n.enumerable)):s(t,e,n),t},Me=function(t){return pe(t).filter(Ne).map(Oe)};e.value=Ae,s(t,"defineProperty",e),e.value=Me,s(t,ce,e),e.value=function(t){return pe(t).filter(Se)},s(t,"getOwnPropertyNames",e),e.value=function(e,n){var t=Me(n);return t.length?ye(n).concat(t).forEach(function(t){Te.call(n,t)&&Ae(e,t,n[t])}):ve(e,n),e},s(t,"defineProperties",e),e.value=Te,s(i,"propertyIsEnumerable",e),e.value=n,s(le,"Symbol",e),e.value=function(t){return(t="__symbol:".concat("__symbol:",t,ue))in i?xe[t]:ke(t)},s(n,"for",e),e.value=function(t){if(Se(t))throw new TypeError(t+" is not a symbol");return be.call(xe,t)?t.slice(20,-ue.length):void 0},s(n,"keyFor",e),e.value=function(t,e){var n=fe(t,e);return n&&Ne(e)&&(n.enumerable=Te.call(t,e)),n},s(t,"getOwnPropertyDescriptor",e),e.value=function(t,e){return 1===arguments.length?me(t):(n=e,o=me(t),pe(n).forEach(function(t){Te.call(n,t)&&Ae(o,t,n[t])}),o);var n,o},s(t,"create",e),e.value=function(){var t=we.call(this);return"[object String]"===t&&Ne(this)?"[object Symbol]":t},s(i,"toString",e);try{var Le=me(s({},"__symbol:",{get:function(){return s(this,"__symbol:",{value:!1})["__symbol:"]}}))["__symbol:"]||s}catch(t){Le=function(t,e,n){var o=fe(i,e);delete i[e],s(t,e,n),s(i,e,o)}}}function Re(){return this}ee=Object,Symbol,oe=ee.defineProperty,ie=ee.prototype,re=ie.toString,"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach(function(t){t in Symbol||"toStringTag"===(oe(Symbol,t,{value:Symbol(t)}),t)&&((ne=ee.getOwnPropertyDescriptor(ie,"toString")).value=function(){var t=re.call(this),e=this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},oe(ie,"toString",ne))}),se=Symbol.iterator,n=Array.prototype,l=String.prototype,n[se]||(n[se]=function(){var e=0,n=this,t={next:function(){var t=n.length<=e;return t?{done:t}:{done:t,value:n[e++]}}};return t[se]=Re,t}),l[se]||(l[se]=function(){var n=String.fromCodePoint,o=this,i=0,r=o.length,t={next:function(){var t=r<=i,e=t?"":n(o.codePointAt(i));return i+=e.length,t?{done:t}:{done:t,value:e}}};return t[se]=Re,t});var Be=Object.prototype.toString,n=(Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":Be.call(this)},Object.keys=function(e){return Object.getOwnPropertyNames(e).filter(function(t){return(t=Object.getOwnPropertyDescriptor(e,t))&&t.enumerable})},window.Symbol.iterator),Pe=(String.prototype[n]&&String.prototype.codePointAt||(String.prototype[n]=function t(){var e,n=this;return Pt(t,function(t){if(1==t.a&&(e=0),3!=t.a)return t=e<n.length?At(t,n[e]):void(t.a=0);e++,t.a=2})}),Set.prototype[n]||(Set.prototype[n]=function t(){var e,n,o=this;return Pt(t,function(t){if(1==t.a&&(e=[],o.forEach(function(t){e.push(t)}),n=0),3!=t.a)return t=n<e.length?At(t,e[n]):void(t.a=0);n++,t.a=2})}),Map.prototype[n]||(Map.prototype[n]=function t(){var n,e,o=this;return Pt(t,function(t){if(1==t.a&&(n=[],o.forEach(function(t,e){n.push([e,t])}),e=0),3!=t.a)return t=e<n.length?At(t,n[e]):void(t.a=0);e++,t.a=2})}),window.WebComponents=window.WebComponents||{flags:{}},document.querySelector('script[src*="webcomponents-bundle"]')),Fe=/wc-(.+)/,a={};if(!a.noOpts){if(location.search.slice(1).split("&").forEach(function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(Fe))&&(a[e[1]]=t[1]||!0)}),Pe)for(var je,Ie=0;je=Pe.attributes[Ie];Ie++)"src"!==je.name&&(a[je.name]=je.value||!0);a.log&&a.log.split?(l=a.log.split(","),a.log={},l.forEach(function(t){a.log[t]=!0})):a.log={}}var n=(window.WebComponents.flags=a).shadydom,l=(n&&(window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=n),a.register||a.ce);function He(){this.va=this.root=null,this.ba=!1,this.N=this.Z=this.ka=this.assignedSlot=this.assignedNodes=this.R=null,this.childNodes=this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parentNode=this.U=void 0,this.qa=this.ra=!1,this.Y={}}function f(t){return t.__shady||(t.__shady=new He),t.__shady}function m(t){return t&&t.__shady}l&&window.customElements&&(window.customElements.forcePolyfill=l),He.prototype.toJSON=function(){return{}};var d=window.ShadyDOM||{},n=(d.La=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode),Object.getOwnPropertyDescriptor(Node.prototype,"firstChild"));function qe(t){return(t=m(t))&&void 0!==t.firstChild}function y(t){return"ShadyRoot"===t.Da}function Ue(t){return(t=(t=m(t))&&t.root)&&Do(t)}d.D=!!(n&&n.configurable&&n.get),d.ma=d.force||!d.La,d.T=d.noPatch||!1,d.ua=d.preferPerformance;var l=Element.prototype,Ye=l.matches||l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector,Ve=document.createTextNode(""),We=0,ze=[];function Xe(t){ze.push(t),Ve.textContent=We++}new MutationObserver(function(){for(;ze.length;)try{ze.shift()()}catch(t){throw Ve.textContent=We++,t}}).observe(Ve,{characterData:!0});var Je=!!document.contains;function Ge(t,e){for(;e;){if(e==t)return!0;e=e.__shady_parentNode}return!1}function $e(o){for(var t=o.length-1;0<=t;t--){var e=o[t],n=e.getAttribute("id")||e.getAttribute("name");n&&"length"!==n&&isNaN(n)&&(o[n]=e)}return o.item=function(t){return o[t]},o.namedItem=function(t){if("length"!==t&&isNaN(t)&&o[t])return o[t];for(var e=Y(o),n=e.next();!n.done;n=e.next())if(((n=n.value).getAttribute("id")||n.getAttribute("name"))==t)return n;return null},o}function h(t,e,n,o){for(var i in n=void 0===n?"":n,e){var r=e[i];if(!(o&&0<=o.indexOf(i))){r.configurable=!0;i=n+i;if(r.value)t[i]=r.value;else try{Object.defineProperty(t,i,r)}catch(t){}}}}function u(e){var n={};return Object.getOwnPropertyNames(e).forEach(function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)}),n}var Ke,Qe=[];function Ze(t){Ke||(Ke=!0,Xe(tn)),Qe.push(t)}function tn(){Ke=!1;for(var t=!!Qe.length;Qe.length;)Qe.shift()();return t}function en(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.aa=new Set}tn.list=Qe,en.prototype.flush=function(){var e;this.a&&(this.a=!1,(e=this.takeRecords()).length)&&this.aa.forEach(function(t){t(e)})},en.prototype.takeRecords=function(){var t;return this.addedNodes.length||this.removedNodes.length?(t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}],this.addedNodes=[],this.removedNodes=[],t):[]};var nn=/[&\u00A0"]/g,on=/[&\u00A0<>]/g;function rn(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function sn(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var an=sn("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),cn=sn("style script xmp iframe noembed noframes plaintext noscript".split(" "));function ln(t,e){"template"===t.localName&&(t=t.content);for(var n="",o=e?e(t):t.childNodes,i=0,r=o.length,s=void 0;i<r&&(s=o[i]);i++){t:{var a=s,c=t,l=e;switch(a.nodeType){case Node.ELEMENT_NODE:for(var h,u="<"+(c=a.localName),d=a.attributes,p=0;h=d[p];p++)u+=" "+h.name+'="'+h.value.replace(nn,rn)+'"';u+=">",a=an[c]?u:u+ln(a,l)+"</"+c+">";break t;case Node.TEXT_NODE:a=a.data,a=c&&cn[c.localName]?a:a.replace(on,rn);break t;case Node.COMMENT_NODE:a="\x3c!--"+a.data+"--\x3e";break t;default:throw window.console.error(a),Error("not implemented")}}n+=a}return n}var n=d.D,hn={querySelector:function(t){return this.__shady_native_querySelector(t)},querySelectorAll:function(t){return this.__shady_native_querySelectorAll(t)}},un={};function dn(e){un[e]=function(t){return t["__shady_native_"+e]}}function pn(t,e){for(var n in h(t,e,"__shady_native_"),e)dn(n)}function p(t,e){e=void 0===e?[]:e;for(var n=0;n<e.length;n++){var o=e[n],i=Object.getOwnPropertyDescriptor(t,o);i&&(Object.defineProperty(t,"__shady_native_"+o,i),i.value?hn[o]||(hn[o]=i.value):dn(o))}}var g=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),v=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),fn=document.implementation.createHTMLDocument("inert");function mn(t){for(var e;e=t.__shady_native_firstChild;)t.__shady_native_removeChild(e)}var l=["firstElementChild","lastElementChild","children","childElementCount"],yn=["querySelector","querySelectorAll"];var gn,vn,bn=u({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get textContent(){return this.__shady_textContent},set textContent(t){this.__shady_textContent=t},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get innerHTML(){return this.__shady_innerHTML},set innerHTML(t){return this.__shady_innerHTML=t},get shadowRoot(){return this.__shady_shadowRoot}}),_n=u({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(t){return this.__shady_className=t}});for(gn in bn)bn[gn].enumerable=!1;for(vn in _n)_n[vn].enumerable=!1;var wn,Cn=d.D||d.T,En=Cn?function(){}:function(t){var e=f(t);e.ra||(e.ra=!0,h(t,_n))},Sn=Cn?function(){}:function(t){var e=f(t);e.qa||(e.qa=!0,h(t,bn))},Nn="__eventWrappers"+Date.now(),Tn=(wn=Object.getOwnPropertyDescriptor(Event.prototype,"composed"))?function(t){return wn.get.call(t)}:null,kn={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},xn={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function Dn(t){return t instanceof Node?t.__shady_getRootNode():t}function On(t,e){var n=[],o=t;for(t=Dn(t);o;)n.push(o),o=o.__shady_assignedSlot||(o.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&o.host&&(e||o!==t)?o.host:o.__shady_parentNode);return n[n.length-1]===document&&n.push(window),n}function An(t,e){t=On(t,!0);for(var n,o,i=0,r=void 0,s=void 0;i<e.length;i++)if((o=Dn(n=e[i]))!==r&&(s=t.indexOf(o),r=o),!y(o)||-1<s)return n}function Mn(n){function t(t,e){return(t=new n(t,e)).__composed=e&&!!e.composed,t}return t.__proto__=n,t.prototype=n.prototype,t}var Ln={focus:!0,blur:!0};function Rn(t){return t.__target!==t.target||t.__relatedTarget!==t.relatedTarget}function Bn(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var o,i=0;(o=n[i])&&(!Rn(t)||t.target!==t.relatedTarget)&&(o.call(e,t),!t.__immediatePropagationStopped);i++);}function Pn(t,e,n,o,i,r){for(var s=0;s<t.length;s++){var a=t[s],c=a.type,l=a.capture,h=a.once,u=a.passive;if(e===a.node&&n===c&&o===l&&i===h&&r===u)return s}return-1}function Fn(o,i,r){if(i){var s=typeof i;if(("function"===s||"object"===s)&&("object"!==s||i.handleEvent&&"function"==typeof i.handleEvent)){if(xn[o])return this.__shady_native_addEventListener(o,i,r);var t,a,e=r&&"object"==typeof r?(t=!!r.capture,a=!!r.once,!!r.passive):(t=!!r,a=!1),c=r&&r.ia||this,n=i[Nn];if(n){if(-1<Pn(n,c,o,t,a,e))return}else i[Nn]=[];i[Nn].push({node:c,type:o,capture:t,once:a,passive:e,$a:n=function(t){var e,n;if(a&&this.__shady_removeEventListener(o,i,r),t.__target||qn(t),c!==this&&(e=Object.getOwnPropertyDescriptor(t,"currentTarget"),Object.defineProperty(t,"currentTarget",{get:function(){return c},configurable:!0})),t.__previousCurrentTarget=t.currentTarget,(!y(c)||-1!=t.composedPath().indexOf(c))&&(t.composed||-1<t.composedPath().indexOf(c)))if(Rn(t)&&t.target===t.relatedTarget)t.eventPhase===Event.BUBBLING_PHASE&&t.stopImmediatePropagation();else if(t.eventPhase===Event.CAPTURING_PHASE||t.bubbles||t.target===c||c instanceof Window)return n="function"===s?i.call(c,t):i.handleEvent&&i.handleEvent(t),c!==this&&(e?(Object.defineProperty(t,"currentTarget",e),e=null):delete t.currentTarget),n}}),Ln[o]?(this.__handlers=this.__handlers||{},this.__handlers[o]=this.__handlers[o]||{capture:[],bubble:[]},this.__handlers[o][t?"capture":"bubble"].push(n)):this.__shady_native_addEventListener(o,n,r)}}}function jn(t,e,n){if(e){if(xn[t])return this.__shady_native_removeEventListener(t,e,n);var o,i,r=n&&"object"==typeof n?(o=!!n.capture,i=!!n.once,!!n.passive):(o=!!n,i=!1),s=n&&n.ia||this,a=void 0,c=null;try{c=e[Nn]}catch(t){}c&&-1<(i=Pn(c,s,t,o,i,r))&&(a=c.splice(i,1)[0].$a,c.length||(e[Nn]=void 0)),this.__shady_native_removeEventListener(t,a||e,n),a&&Ln[t]&&this.__handlers&&this.__handlers[t]&&-1<(a=(t=this.__handlers[t][o?"capture":"bubble"]).indexOf(a))&&t.splice(a,1)}}function In(){for(var t in Ln)window.__shady_native_addEventListener(t,function(t){if(!t.__target){qn(t);var e=t,n=e.composedPath();Object.defineProperty(e,"currentTarget",{get:function(){return r},configurable:!0});for(var o,i=n.length-1;0<=i;i--){var r=n[i];if(Bn(e,r,"capture"),e.ha)return}for(Object.defineProperty(e,"eventPhase",{get:function(){return Event.AT_TARGET}}),i=0;i<n.length;i++){var s=(s=m(r=n[i]))&&s.root;if((0===i||s&&s===o)&&(Bn(e,r,"bubble"),r!==window&&(o=r.__shady_getRootNode()),e.ha))break}}},!0)}var Hn=u({get composed(){return void 0===this.__composed&&(Tn?this.__composed="focusin"===this.type||"focusout"===this.type||Tn(this):!1!==this.isTrusted&&(this.__composed=kn[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=On(this.__target,this.composed)),this.__composedPath},get target(){return An(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=On(this.__relatedTarget,!0)),An(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ha=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ha=this.__immediatePropagationStopped=!0}});function qn(t){var e,n;t.__target=t.target,t.__relatedTarget=t.relatedTarget,d.D?(e=Object.getPrototypeOf(t),Object.hasOwnProperty(e,"__shady_patchedProto")||((n=Object.create(e)).__shady_sourceProto=e,h(n,Hn),e.__shady_patchedProto=n),t.__proto__=e.__shady_patchedProto):h(t,Hn)}var Cn=Mn(Event),Un=Mn(CustomEvent),Yn=Mn(MouseEvent);var Vn=Object.getOwnPropertyNames(Document.prototype).filter(function(t){return"on"===t.substring(0,2)});function Wn(t,e){return{index:t,V:[],$:e}}function zn(t,e,n){En(t),n=n||null;var o=f(t),i=f(e),r=n?f(n):null;o.previousSibling=n?r.previousSibling:e.__shady_lastChild,(r=m(o.previousSibling))&&(r.nextSibling=t),(r=m(o.nextSibling=n))&&(r.previousSibling=t),o.parentNode=e,n?n===i.firstChild&&(i.firstChild=t):(i.lastChild=t,i.firstChild||(i.firstChild=t)),i.childNodes=null}function Xn(t){var e=f(t);if(void 0===e.firstChild){e.childNodes=null;var n=e.firstChild=t.__shady_native_firstChild||null;for(e.lastChild=t.__shady_native_lastChild||null,Sn(t),e=n,n=void 0;e;e=e.__shady_native_nextSibling){var o=f(e);o.parentNode=t,o.nextSibling=e.__shady_native_nextSibling||null,o.previousSibling=n||null,En(n=e)}}}var Jn=null;function Gn(){return(Jn=Jn||window.ShadyCSS&&window.ShadyCSS.ScopingShim)||null}function $n(t,e){var n=Gn();n&&n.unscopeNode(t,e)}function Kn(t){var e;return t.nodeType===Node.ELEMENT_NODE&&(e=Gn())?e.currentScopeForNode(t):""}function Qn(t,e){if(t){t.nodeType===Node.ELEMENT_NODE&&e(t),t=t.__shady_childNodes;for(var n,o=0;o<t.length;o++)(n=t[o]).nodeType===Node.ELEMENT_NODE&&Qn(n,e)}}var Zn=window.document,to=d.ua,b=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),eo=b&&b.get;function no(t){for(var e;e=t.__shady_firstChild;)t.__shady_removeChild(e)}function oo(t,e,n){var o;(t=(t=m(t))&&t.R)&&(e&&t.addedNodes.push(e),n&&t.removedNodes.push(n),(o=t).a||(o.a=!0,Xe(function(){o.flush()})))}var io=u({get parentNode(){var t=m(this);return void 0!==(t=t&&t.parentNode)?t:this.__shady_native_parentNode},get firstChild(){var t=m(this);return void 0!==(t=t&&t.firstChild)?t:this.__shady_native_firstChild},get lastChild(){var t=m(this);return void 0!==(t=t&&t.lastChild)?t:this.__shady_native_lastChild},get nextSibling(){var t=m(this);return void 0!==(t=t&&t.nextSibling)?t:this.__shady_native_nextSibling},get previousSibling(){var t=m(this);return void 0!==(t=t&&t.previousSibling)?t:this.__shady_native_previousSibling},get childNodes(){if(qe(this)){var t=m(this);if(!t.childNodes){t.childNodes=[];for(var e=this.__shady_firstChild;e;e=e.__shady_nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=this.__shady_native_childNodes;return n.item=function(t){return n[t]},n},get parentElement(){var t=m(this);return void 0!==(t=(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE?null:t)?t:this.__shady_native_parentElement},get isConnected(){if(eo&&eo.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(Je){if(t.__shady_native_contains(this))return!0}else if(t.documentElement&&t.documentElement.__shady_native_contains(this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.__shady_parentNode||(y(t)?t.host:void 0);return!!(t&&t instanceof Document)},get textContent(){if(qe(this)){for(var t,e=[],n=0,o=this.__shady_childNodes;t=o[n];n++)t.nodeType!==Node.COMMENT_NODE&&e.push(t.__shady_textContent);return e.join("")}return this.__shady_native_textContent},set textContent(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:var e;!qe(this)&&d.D?(((e=this.__shady_firstChild)!=this.__shady_lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&no(this),this.__shady_native_textContent=t):(no(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(t)));break;default:this.nodeValue=t}},insertBefore:function(t,e){if(this.ownerDocument!==Zn&&t.ownerDocument!==Zn)this.__shady_native_insertBefore(t,e);else{if(t===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(e){var n=m(e);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&e.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(e!==t){var o,i=[],r=(n=Oo(this))?n.host.localName:Kn(this),s=t.__shady_parentNode,a=(s&&(o=Kn(t),s.__shady_removeChild(t,!!n||!Oo(t))),s=!0,!(to&&void 0!==t.__noInsertionPoint||function t(e,n){var o=Gn();if(!o)return!0;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)return e.nodeType!==Node.ELEMENT_NODE||o.currentScopeForNode(e)===n;o=!0,e=e.__shady_childNodes;for(var i=0;o&&i<e.length;i++)o=o&&t(e[i],n);return o}(t,r))),c=n&&!t.__noInsertionPoint&&(!to||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE);if((c||a)&&(a&&(o=o||Kn(t)),Qn(t,function(t){var e;c&&"slot"===t.localName&&i.push(t),a&&(e=o,Gn())&&(e&&$n(t,e),e=Gn())&&e.scopeNode(t,r)})),("slot"===this.localName||i.length)&&(i.length&&(n.c=n.c||[],n.a=n.a||[],n.b=n.b||{},n.c.push.apply(n.c,i instanceof Array?i:function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(Y(i)))),n)&&Eo(n),qe(this)){{var l=t;var h=this;var u=e;if(Sn(h),void 0!==(d=f(h)).firstChild&&(d.childNodes=null),l.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(var d=l.__shady_childNodes,p=0;p<d.length;p++)zn(d[p],h,u);h=void 0!==(l=f(l)).firstChild?null:void 0,l.firstChild=l.lastChild=h,l.childNodes=h}else zn(l,h,u)}n=m(this),Ue(this)?(Eo(n.root),s=!1):n.root&&(s=!1)}s?(n=y(this)?this.host:this,e?(e=function t(e){var n=e;return n=e&&"slot"===e.localName?(n=(n=m(e))&&n.N)&&n.length?n[0]:t(e.__shady_nextSibling):n}(e),n.__shady_native_insertBefore(t,e)):n.__shady_native_appendChild(t)):t.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(t),oo(this,t)}}return t},appendChild:function(t){return this.__shady_insertBefore(t)},removeChild:function(t,e){if(e=void 0!==e&&e,this.ownerDocument!==Zn)return this.__shady_native_removeChild(t);if(t.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+t);var n,o,i,r,s,a,c=Oo(t),l=c&&function(t,e){if(t.a){To(t);var n,o=t.b;for(n in o)for(var i=o[n],r=0;r<i.length;r++){var s=i[r];if(Ge(e,s)){i.splice(r,1);var a=t.a.indexOf(s);if(0<=a&&(t.a.splice(a,1),a=m(s.__shady_parentNode))&&a.X&&a.X--,r--,s=m(s),a=s.N)for(var c=0;c<a.length;c++){var l=a[c],h=l.__shady_native_parentNode;h&&h.__shady_native_removeChild(l)}s.N=[],s.assignedNodes=[],a=!0}}return a}}(c,t),h=m(this);return qe(this)&&(i=this,r=f(o=t),o===(i=f(i)).firstChild&&(i.firstChild=r.nextSibling),o===i.lastChild&&(i.lastChild=r.previousSibling),o=r.previousSibling,s=r.nextSibling,o&&(f(o).nextSibling=s),s&&(f(s).previousSibling=o),(r.parentNode=r.previousSibling=r.nextSibling=void 0)!==i.childNodes&&(i.childNodes=null),Ue(this))&&(Eo(h.root),n=!0),Gn()&&!e&&c&&(a=Kn(t),Qn(t,function(t){$n(t,a)})),function t(e){var n=m(e);if(n&&void 0!==n.U)for(var o=0,i=(n=e.__shady_childNodes).length,r=void 0;o<i&&(r=n[o]);o++)t(r);(e=m(e))&&(e.U=void 0)}(t),c&&((e=this&&"slot"===this.localName)&&(n=!0),l||e)&&Eo(c),!n&&(n=y(this)?this.host:this,!h.root&&"slot"!==t.localName||n===t.__shady_native_parentNode)&&n.__shady_native_removeChild(t),oo(this,null,t),t},replaceChild:function(t,e){return this.__shady_insertBefore(t,e),this.__shady_removeChild(e),t},cloneNode:function(t){if("template"==this.localName)return this.__shady_native_cloneNode(t);var e=this.__shady_native_cloneNode(!1);if(t&&e.nodeType!==Node.ATTRIBUTE_NODE){t=this.__shady_childNodes;for(var n,o=0;o<t.length;o++)n=t[o].__shady_cloneNode(!0),e.__shady_appendChild(n)}return e},getRootNode:function(t){var e,n;if(this&&this.nodeType)return void 0===(n=(e=f(this)).U)&&(y(this)?e.U=n=this:(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(t):this,document.documentElement.__shady_native_contains(this)&&(e.U=n))),n},contains:function(t){return Ge(this,t)}});function ro(t,e,n){var o=[];return function t(e,n,o,i){for(var r=0,s=e.length,a=void 0;r<s&&(a=e[r]);r++){var c,l,h,u,d;if((c=a.nodeType===Node.ELEMENT_NODE)&&(h=o,u=i,(d=(l=n)(c=a))&&u.push(c),c=h&&h(d)?d:void t(c.__shady_childNodes,l,h,u)),c)break}}(t.__shady_childNodes,e,n,o),o}var so=u({get firstElementChild(){var t=m(this);if(t&&void 0!==t.firstChild){for(t=this.__shady_firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_firstElementChild},get lastElementChild(){var t=m(this);if(t&&void 0!==t.lastChild){for(t=this.__shady_lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_lastElementChild},get children(){return qe(this)?$e(Array.prototype.filter.call(this.__shady_childNodes,function(t){return t.nodeType===Node.ELEMENT_NODE})):this.__shady_native_children},get childElementCount(){var t=this.__shady_children;return t?t.length:0}}),b=u({querySelector:function(e){return ro(this,function(t){return Ye.call(t,e)},function(t){return!!t})[0]||null},querySelectorAll:function(e,t){var n;return t?(t=Array.prototype.slice.call(this.__shady_native_querySelectorAll(e)),n=this.__shady_getRootNode(),t.filter(function(t){return t.__shady_getRootNode()==n})):ro(this,function(t){return Ye.call(t,e)})}}),ao=d.ua?Object.assign({},so):so,co=(Object.assign(so,b),u({getElementById:function(e){return""!==e&&ro(this,function(t){return t.id==e},function(t){return!!t})[0]||null}})),lo=u({get activeElement(){var t=d.D?document.__shady_native_activeElement:document.activeElement;if(!t||!t.nodeType)return null;var e=!!y(this);if(!(this===document||e&&this.host!==t&&this.host.__shady_native_contains(t)))return null;for(e=Oo(t);e&&e!==this;)e=Oo(t=e.host);return this===document?e?null:t:e===this?t:null}}),ho=document.implementation.createHTMLDocument("inert"),uo=u({get innerHTML(){return qe(this)?ln("template"===this.localName?this.content:this,function(t){return t.__shady_childNodes}):this.__shady_native_innerHTML},set innerHTML(t){if("template"===this.localName)this.__shady_native_innerHTML=t;else{no(this);var e=this.localName||"div",e=this.namespaceURI&&this.namespaceURI!==ho.namespaceURI?ho.createElementNS(this.namespaceURI,e):ho.createElement(e);for(d.D?e.__shady_native_innerHTML=t:e.innerHTML=t;t=e.__shady_firstChild;)this.__shady_insertBefore(t)}}}),po=u({addEventListener:function(t,e,n){((n="object"!=typeof n?{capture:!!n}:n).ia=this).host.__shady_addEventListener(t,e,n)},removeEventListener:function(t,e,n){((n="object"!=typeof n?{capture:!!n}:n).ia=this).host.__shady_removeEventListener(t,e,n)}});function fo(t,e){h(t,po,e),h(t,lo,e),h(t,uo,e),h(t,so,e),d.T&&!e?(h(t,io,e),h(t,co,e)):d.D||(h(t,_n),h(t,bn))}var mo,yo,go,vo,bo={},_o=d.deferConnectionCallbacks&&"loading"===document.readyState;function wo(t){for(var e=[];e.unshift(t),t=t.__shady_parentNode;);return e}function Co(t,e,n){if(t!==bo)throw new TypeError("Illegal constructor");if(this.Da="ShadyRoot",this.host=e,this.mode=n&&n.mode,Xn(e),(t=f(e)).root=this,t.va="closed"!==this.mode?this:null,(t=f(this)).firstChild=t.lastChild=t.parentNode=t.nextSibling=t.previousSibling=null,t.childNodes=[],this.ja=this.M=!1,this.c=this.b=this.a=null,d.preferPerformance)for(;t=e.__shady_native_firstChild;)e.__shady_native_removeChild(t);else Eo(this)}function Eo(t){t.M||(t.M=!0,Ze(function(){return So(t)}))}function So(t){var e,n;if(e=t.M){for(;t;)t.M&&(n=t),y(t=(e=t).host.__shady_getRootNode())&&(e=m(e.host))&&0<e.X||(t=void 0);e=n}(n=e)&&n._renderSelf()}function No(t,e,n){var o=f(e),i=o.Z;o.Z=null,(n=n||(t=t.b[e.__shady_slot||"__catchall"])&&t[0])?(f(n).assignedNodes.push(e),o.assignedSlot=n):o.assignedSlot=void 0,i!==o.assignedSlot&&o.assignedSlot&&(f(o.assignedSlot).ba=!0)}function To(t){if(t.c&&t.c.length){for(var e,n=t.c,o=0;o<n.length;o++){var i=n[o],r=(Xn(i),i.__shady_parentNode);Xn(r),(r=m(r)).X=(r.X||0)+1,r=ko(i),t.b[r]?((e=e||{})[r]=!0,t.b[r].push(i)):t.b[r]=[i],t.a.push(i)}if(e)for(var s in e)t.b[s]=xo(t.b[s]);t.c=[]}}function ko(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.Ba=e}function xo(t){return t.sort(function(t,e){t=wo(t);for(var n=wo(e),o=0;o<t.length;o++){e=t[o];var i=n[o];if(e!==i)return(t=Array.from(e.__shady_parentNode.__shady_childNodes)).indexOf(e)-t.indexOf(i)}})}function Do(t){return To(t),!(!t.a||!t.a.length)}function Oo(t){if(y(t=t.__shady_getRootNode()))return t}function Ao(t){this.node=t}Co.prototype._renderSelf=function(){var t=_o;if(_o=!0,this.M=!1,this.a){To(this);for(var e=0;e<this.a.length;e++){var n,o=m(n=this.a[e]),i=o.assignedNodes;if(o.assignedNodes=[],o.N=[],o.ka=i)for(o=0;o<i.length;o++){var r=m(i[o]);r.Z=r.assignedSlot,r.assignedSlot===n&&(r.assignedSlot=null)}}for(e=this.host.__shady_firstChild;e;e=e.__shady_nextSibling)No(this,e);for(e=0;e<this.a.length;e++){if(!(i=m(n=this.a[e])).assignedNodes.length)for(o=n.__shady_firstChild;o;o=o.__shady_nextSibling)No(this,o,n);if((o=(o=m(n.__shady_parentNode))&&o.root)&&(Do(o)||o.M)&&o._renderSelf(),!function t(e,n,o){for(var i=0,r=void 0;i<o.length&&(r=o[i]);i++){var s;"slot"==r.localName?(s=m(r).assignedNodes)&&s.length&&t(e,n,s):n.push(o[i])}}(this,i.N,i.assignedNodes),o=i.ka){for(r=0;r<o.length;r++)m(o[r]).Z=null;i.ka=null,o.length>i.assignedNodes.length&&(i.ba=!0)}i.ba&&(i.ba=!1,function t(e,n){n.__shady_native_dispatchEvent(new Event("slotchange"));n=m(n);n.assignedSlot&&t(e,n.assignedSlot)}(this,n))}for(n=this.a,e=[],i=0;i<n.length;i++)(r=m(o=n[i].__shady_parentNode))&&r.root||!(e.indexOf(o)<0)||e.push(o);for(n=0;n<e.length;n++){for(var i=(r=e[n])===this?this.host:r,o=[],r=r.__shady_childNodes,s=0;s<r.length;s++)if("slot"==(a=r[s]).localName)for(var a=m(a).N,c=0;c<a.length;c++)o.push(a[c]);else o.push(a);r=Array.prototype.slice.call(i.__shady_native_childNodes);for(var s=function(t,e,n,o){var i,r,s=0,a=0,c=0,l=0,h=Math.min(e-s,o-a);if(0==s&&0==a)t:{for(c=0;c<h;c++)if(t[c]!==n[c])break t;c=h}if(e==t.length&&o==n.length){for(var l=t.length,u=n.length,d=0;d<h-c&&t[--l]===n[--u];)d++;l=d}if(a+=c,o-=l,0==(e-=l)-(s+=c)&&0==o-a)return[];if(s==e){for(e=Wn(s,0);a<o;)e.V.push(n[a++]);return[e]}if(a==o)return[Wn(s,e-s)];for(o=o-(c=a)+1,l=e-(h=s)+1,e=Array(o),u=0;u<o;u++)e[u]=Array(l),e[u][0]=u;for(u=0;u<l;u++)e[0][u]=u;for(u=1;u<o;u++)for(d=1;d<l;d++)t[h+d-1]===n[c+u-1]?e[u][d]=e[u-1][d-1]:(i=e[u-1][d]+1,r=e[u][d-1]+1,e[u][d]=i<r?i:r);for(h=e.length-1,c=e[0].length-1,o=e[h][c],t=[];0<h||0<c;)0==h?(t.push(2),c--):0==c?(t.push(3),h--):(l=e[h-1][c-1],(i=(u=e[h-1][c])<(d=e[h][c-1])?u<l?u:l:d<l?d:l)==l?(l==o?t.push(0):(t.push(1),o=l),h--,c--):o=i==u?(t.push(3),h--,u):(t.push(2),c--,d));for(t.reverse(),e=void 0,h=[],c=0;c<t.length;c++)switch(t[c]){case 0:e&&(h.push(e),e=void 0),s++,a++;break;case 1:(e=e||Wn(s,0)).$++,s++,e.V.push(n[a]),a++;break;case 2:(e=e||Wn(s,0)).$++,s++;break;case 3:(e=e||Wn(s,0)).V.push(n[a]),a++}return e&&h.push(e),h}(o,o.length,r,r.length),c=a=0,l=void 0;a<s.length&&(l=s[a]);a++){for(var h=0,u=void 0;h<l.V.length&&(u=l.V[h]);h++)u.__shady_native_parentNode===i&&i.__shady_native_removeChild(u),r.splice(l.index+c,1);c-=l.$}for(l=void(c=0);c<s.length&&(l=s[c]);c++)for(a=r[l.index],h=l.index;h<l.index+l.$;h++)u=o[h],i.__shady_native_insertBefore(u,a),r.splice(h,0,u)}}if(!d.preferPerformance&&!this.ja)for(n=0,i=(e=this.host.__shady_childNodes).length;n<i;n++)r=m(o=e[n]),o.__shady_native_parentNode!==this.host||"slot"!==o.localName&&r.assignedSlot||this.host.__shady_native_removeChild(o);this.ja=!0,_o=t,go&&go()},(mo=Co.prototype).__proto__=DocumentFragment.prototype,fo(mo,"__shady_"),fo(mo),Object.defineProperties(mo,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach(function(t){Object.defineProperty(mo,t,{value:void 0,configurable:!0})}),["ownerDocument","baseURI","isConnected"].forEach(function(t){Object.defineProperty(mo,t,{get:function(){return this.host[t]},configurable:!0})}),window.customElements&&d.ma&&!d.preferPerformance&&(yo=new Map,go=function(){var n=[];yo.forEach(function(t,e){n.push([e,t])}),yo.clear();for(var t=0;t<n.length;t++){var e=n[t][0];n[t][1]?e.za():e.Aa()}},_o&&document.addEventListener("readystatechange",function(){_o=!1,go()},{once:!0}),vo=window.customElements.define,Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:function(t,e){var n,o,i,r=e.prototype.connectedCallback,s=e.prototype.disconnectedCallback;vo.call(window.customElements,t,(t=e,o=s,i="__isConnected0",((n=r)||o)&&(t.prototype.connectedCallback=t.prototype.za=function(){_o?yo.set(this,!0):this[i]||(this[i]=!0,n&&n.call(this))},t.prototype.disconnectedCallback=t.prototype.Aa=function(){_o?this.isConnected||yo.set(this,!1):this[i]&&(this[i]=!1,o)&&o.call(this)}),t)),e.prototype.connectedCallback=r,e.prototype.disconnectedCallback=s}})),(b=Ao.prototype).addEventListener=function(t,e,n){return this.node.__shady_addEventListener(t,e,n)},b.removeEventListener=function(t,e,n){return this.node.__shady_removeEventListener(t,e,n)},b.appendChild=function(t){return this.node.__shady_appendChild(t)},b.insertBefore=function(t,e){return this.node.__shady_insertBefore(t,e)},b.removeChild=function(t){return this.node.__shady_removeChild(t)},b.replaceChild=function(t,e){return this.node.__shady_replaceChild(t,e)},b.cloneNode=function(t){return this.node.__shady_cloneNode(t)},b.getRootNode=function(t){return this.node.__shady_getRootNode(t)},b.contains=function(t){return this.node.__shady_contains(t)},b.dispatchEvent=function(t){return this.node.__shady_dispatchEvent(t)},b.setAttribute=function(t,e){this.node.__shady_setAttribute(t,e)},b.getAttribute=function(t){return this.node.__shady_native_getAttribute(t)},b.hasAttribute=function(t){return this.node.__shady_native_hasAttribute(t)},b.removeAttribute=function(t){this.node.__shady_removeAttribute(t)},b.attachShadow=function(t){return this.node.__shady_attachShadow(t)},b.focus=function(){this.node.__shady_native_focus()},b.blur=function(){this.node.__shady_blur()},b.importNode=function(t,e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(t,e)},b.getElementById=function(t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(t)},b.querySelector=function(t){return this.node.__shady_querySelector(t)},b.querySelectorAll=function(t,e){return this.node.__shady_querySelectorAll(t,e)},b.assignedNodes=function(t){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(t)},o.Object.defineProperties(Ao.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(y(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(y(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(t){this.node.__shady_innerHTML=t}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(t){this.node.__shady_textContent=t}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(t){this.node.__shady_slot=t}}}),Vn.forEach(function(e){Object.defineProperty(Ao.prototype,e,{get:function(){return this.node["__shady_"+e]},set:function(t){this.node["__shady_"+e]=t},configurable:!0})});var Mo=new WeakMap;var Lo=u({dispatchEvent:function(t){return tn(),this.__shady_native_dispatchEvent(t)},addEventListener:Fn,removeEventListener:jn}),Ro=u({get assignedSlot(){var t=this.__shady_parentNode;return(t=t&&t.__shady_shadowRoot)&&So(t),(t=m(this))&&t.assignedSlot||null}}),Bo=window.document;function Po(t,e){var n,o,i;"slot"===e?Ue(t=t.__shady_parentNode)&&Eo(m(t).root):"slot"===t.localName&&"name"===e&&(e=Oo(t))&&(e.a&&(To(e),o=t.Ba,(n=ko(t))!==o)&&(0<=(i=(o=e.b[o]).indexOf(t))&&o.splice(i,1),(o=e.b[n]||(e.b[n]=[])).push(t),1<o.length)&&(e.b[n]=xo(o)),Eo(e))}var _=u({get previousElementSibling(){var t=m(this);if(t&&void 0!==t.previousSibling){for(t=this.__shady_previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_previousElementSibling},get nextElementSibling(){var t=m(this);if(t&&void 0!==t.nextSibling){for(t=this.__shady_nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(t){this.__shady_setAttribute("slot",t)},get shadowRoot(){var t=m(this);return t&&t.va||null},get className(){return this.getAttribute("class")||""},set className(t){this.__shady_setAttribute("class",t)},setAttribute:function(t,e){var n;this.ownerDocument!==Bo?this.__shady_native_setAttribute(t,e):(n=!(!(n=Gn())||"class"!==t||(n.setElementClass(this,e),0)))||(this.__shady_native_setAttribute(t,e),Po(this,t))},removeAttribute:function(t){this.__shady_native_removeAttribute(t),Po(this,t)},attachShadow:function(t){if(!this)throw Error("Must provide a host.");if(t)return new Co(bo,this,t);throw Error("Not enough arguments.")}}),Fo=u({blur:function(){var t=m(this);(t=(t=t&&t.root)&&t.activeElement)?t.__shady_blur():this.__shady_native_blur()}}),Vn=(Vn.forEach(function(o){Fo[o]={set:function(t){var e=f(this),n=o.substring(2);e.Y[o]&&this.removeEventListener(n,e.Y[o]),this.__shady_addEventListener(n,t),e.Y[o]=t},get:function(){var t=m(this);return t&&t.Y[o]},configurable:!0}}),u({assignedNodes:function(t){var e;if("slot"===this.localName)return(e=this.__shady_getRootNode())&&y(e)&&So(e),(e=m(this))&&(t&&t.flatten?e.N:e.assignedNodes)||[]}})),jo=window.document,Io=u({importNode:function(t,e){if(t.ownerDocument!==jo||"template"===t.localName)return this.__shady_native_importNode(t,e);var n,o=this.__shady_native_importNode(t,!1);if(e){t=t.__shady_childNodes,e=0;for(;e<t.length;e++)n=this.__shady_importNode(t[e],!0),o.__shady_appendChild(n)}return o}}),Ho=u({addEventListener:Fn.bind(window),removeEventListener:jn.bind(window)}),qo={},Uo=(Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(qo.parentElement=io.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(qo.contains=io.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(qo.children=so.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(qo.innerHTML=uo.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(qo.className=_.className),{EventTarget:[Lo],Node:[io,window.EventTarget?null:Lo],Text:[Ro],Element:[_,so,Ro,!d.D||"innerHTML"in Element.prototype?uo:null,window.HTMLSlotElement?null:Vn],HTMLElement:[Fo,qo],HTMLSlotElement:[Vn],DocumentFragment:[ao,co],Document:[Io,ao,co,lo],Window:[Ho]}),Yo=d.D?null:["innerHTML","textContent"];function Vo(n){var t,o=n?null:Yo,e={};for(t in Uo)e.fa=window[t]&&window[t].prototype,Uo[t].forEach(function(e){return function(t){return e.fa&&t&&h(e.fa,t,n,o)}}(e)),e={fa:e.fa}}d.ma&&(Lo={inUse:d.ma,patch:function(t){return Sn(t),En(t),t},isShadyRoot:y,enqueue:Ze,flush:tn,flushInitial:function(t){!t.ja&&t.M&&So(t)},settings:d,filterMutations:function(t,e){var n=e.getRootNode();return t.map(function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if((e=Array.from(t.addedNodes).filter(function(t){return n===t.getRootNode()})).length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t}).filter(function(t){return t})},observeChildren:function(t,e){var n=f(t),o=(n.R||(n.R=new en),n.R.aa.add(e),n.R);return{Ca:e,O:o,Ea:t,takeRecords:function(){return o.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.O;e&&(e.aa.delete(t.Ca),e.aa.size||(f(t.Ea).R=null))},deferConnectionCallbacks:d.deferConnectionCallbacks,preferPerformance:d.preferPerformance,handlesDynamicScoping:!0,wrap:d.T?function(t){var e;return y(t)||t instanceof Ao?t:((e=Mo.get(t))||(e=new Ao(t),Mo.set(t,e)),e)}:function(t){return t},Wrapper:Ao,composedPath:function(t){return t.__composedPath||(t.__composedPath=On(t.target,!0)),t.__composedPath},noPatch:d.T,nativeMethods:hn,nativeTree:un},window.ShadyDOM=Lo,_=["dispatchEvent","addEventListener","removeEventListener"],window.EventTarget?p(window.EventTarget.prototype,_):(p(Node.prototype,_),p(Window.prototype,_)),n?p(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):pn(Node.prototype,{parentNode:{get:function(){return g.currentNode=this,g.parentNode()}},firstChild:{get:function(){return g.currentNode=this,g.firstChild()}},lastChild:{get:function(){return g.currentNode=this,g.lastChild()}},previousSibling:{get:function(){return g.currentNode=this,g.previousSibling()}},nextSibling:{get:function(){return g.currentNode=this,g.nextSibling()}},childNodes:{get:function(){var t=[];g.currentNode=this;for(var e=g.firstChild();e;)t.push(e),e=g.nextSibling();return t}},parentElement:{get:function(){return v.currentNode=this,v.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var t,e=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return this.nodeValue}},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:mn(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(t),void 0);break;default:this.nodeValue=t}}}}),p(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),_={firstElementChild:{get:function(){return v.currentNode=this,v.firstChild()}},lastElementChild:{get:function(){return v.currentNode=this,v.lastChild()}},children:{get:function(){var t=[];v.currentNode=this;for(var e=v.firstChild();e;)t.push(e),e=v.nextSibling();return $e(t)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},n?(p(Element.prototype,l),p(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML"]),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&p(HTMLElement.prototype,["children"]),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&p(HTMLElement.prototype,["innerHTML"])):(pn(Element.prototype,_),pn(Element.prototype,{previousElementSibling:{get:function(){return v.currentNode=this,v.previousSibling()}},nextElementSibling:{get:function(){return v.currentNode=this,v.nextSibling()}},innerHTML:{get:function(){return ln(this,function(t){return t.__shady_native_childNodes})},set:function(t){var e="template"===this.localName?this.content:this,n=(mn(e),this.localName||"div");for((n=this.namespaceURI&&this.namespaceURI!==fn.namespaceURI?fn.createElementNS(this.namespaceURI,n):fn.createElement(n)).innerHTML=t,t="template"===this.localName?n.content:n;n=t.__shady_native_firstChild;)e.__shady_native_insertBefore(n,void 0)}}})),p(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),p(Element.prototype,yn),p(HTMLElement.prototype,["focus","blur","contains"]),n&&p(HTMLElement.prototype,["parentElement","children","innerHTML"]),window.HTMLTemplateElement&&p(window.HTMLTemplateElement.prototype,["innerHTML"]),n?p(DocumentFragment.prototype,l):pn(DocumentFragment.prototype,_),p(DocumentFragment.prototype,yn),n?(p(Document.prototype,l),p(Document.prototype,["activeElement"])):pn(Document.prototype,_),p(Document.prototype,["importNode","getElementById"]),p(Document.prototype,yn),Vo("__shady_"),Object.defineProperty(document,"_activeElement",lo.activeElement),h(Window.prototype,Ho,"__shady_"),d.T||(Vo(),!Tn&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")&&(Ro=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(t)},Element.prototype.click?Element.prototype.click=Ro:HTMLElement.prototype.click&&(HTMLElement.prototype.click=Ro))),In(),window.Event=Cn,window.CustomEvent=Un,window.MouseEvent=Yn,window.ShadowRoot=Co);var Wo=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function zo(t){var e=Wo.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}function w(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function Xo(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function Jo(t,e,n){n=void 0===n?new Set:n;for(var o=t;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o,r=(e(i),i.localName);if("link"===r&&"import"===i.getAttribute("rel")){if((o=i.import)instanceof Node&&!n.has(o))for(n.add(o),o=o.firstChild;o;o=o.nextSibling)Jo(o,e,n);o=Xo(t,i);continue}if("template"===r){o=Xo(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)Jo(i,e,n)}o=o.firstChild||Xo(t,o)}}function C(t,e,n){t[e]=n}function Go(){this.a=new Map,this.u=new Map,this.f=[],this.c=!1}function $o(t,e){t.c=!0,t.f.push(e)}function Ko(e,t){e.c&&Jo(t,function(t){return e.b(t)})}function E(t,e){var n=[];for(Jo(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var o=n[e];1===o.__CE_state?t.connectedCallback(o):Qo(t,o)}}function S(t,e){var n=[];for(Jo(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var o=n[e];1===o.__CE_state&&t.disconnectedCallback(o)}}function N(o,t,e){var i=(e=void 0===e?{}:e).Za||new Set,r=e.ga||function(t){return Qo(o,t)},s=[];if(Jo(t,function(n){var t;"link"===n.localName&&"import"===n.getAttribute("rel")?((t=n.import)instanceof Node&&(t.__CE_isImportDocument=!0,t.__CE_hasRegistry=!0),t&&"complete"===t.readyState?t.__CE_documentLoadHandled=!0:n.addEventListener("load",function(){var t,e=n.import;e.__CE_documentLoadHandled||(e.__CE_documentLoadHandled=!0,(t=new Set(i)).delete(e),N(o,e,{Za:t,ga:r}))})):s.push(n)},i),o.c)for(t=0;t<s.length;t++)o.b(s[t]);for(t=0;t<s.length;t++)r(s[t])}function Qo(t,e){if(void 0===e.__CE_state){var n=e.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=t.a.get(e.localName))){n.constructionStack.push(e);var o=n.constructorFunction;try{try{if(new o!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,(e.__CE_definition=n).attributeChangedCallback)for(n=n.observedAttributes,o=0;o<n.length;o++){var i=n[o],r=e.getAttribute(i);null!==r&&t.attributeChangedCallback(e,i,null,r,null)}w(e)&&t.connectedCallback(e)}}}function Zo(t){var e=document;this.b=t,this.a=e,this.O=void 0,N(this.b,this.a),"loading"===this.a.readyState&&(this.O=new MutationObserver(this.c.bind(this)),this.O.observe(this.a,{childList:!0,subtree:!0}))}function ti(t){t.O&&t.O.disconnect()}function ei(){var e=this;this.a=this.w=void 0,this.b=new Promise(function(t){e.a=t,e.w&&t(e.w)})}function T(t){this.c=!1,this.a=t,this.F=new Map,this.f=function(t){return t()},this.b=!1,this.u=[],this.ca=new Zo(t)}Go.prototype.b=function(t){if(this.c&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<this.f.length;e++)this.f[e](t)}},Go.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},Go.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},Go.prototype.attributeChangedCallback=function(t,e,n,o,i){var r=t.__CE_definition;r.attributeChangedCallback&&-1<r.observedAttributes.indexOf(e)&&r.attributeChangedCallback.call(t,e,n,o,i)},Zo.prototype.c=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||ti(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,o=0;o<n.length;o++)N(this.b,n[o])},ei.prototype.resolve=function(t){if(this.w)throw Error("Already resolved.");this.w=t,this.a&&this.a(t)},(b=T.prototype).xa=function(t,e){var a=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!zo(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.a.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var n=function(t){var e=o[t];if(void 0===e||e instanceof Function)return e;throw Error("The '"+t+"' callback must be a function.")},o=e.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var i=n("connectedCallback"),r=n("disconnectedCallback"),s=n("adoptedCallback"),c=n("attributeChangedCallback"),l=e.observedAttributes||[]}catch(t){return}finally{this.c=!1}n=this.a,i=e={localName:t,constructorFunction:e,connectedCallback:i,disconnectedCallback:r,adoptedCallback:s,attributeChangedCallback:c,observedAttributes:l,constructionStack:[]},n.a.set(t,i),n.u.set(i.constructorFunction,i),this.u.push(e),this.b||(this.b=!0,this.f(function(){var o=a;if(!1!==o.b){o.b=!1;for(var t=o.u,i=[],r=new Map,e=0;e<t.length;e++)r.set(t[e].localName,[]);for(N(o.a,document,{ga:function(t){var e,n;void 0===t.__CE_state&&(e=t.localName,(n=r.get(e))?n.push(t):o.a.a.get(e)&&i.push(t))}}),e=0;e<i.length;e++)Qo(o.a,i[e]);for(;0<t.length;){var n=t.shift();e=n.localName,n=r.get(n.localName);for(var s=0;s<n.length;s++)Qo(o.a,n[s]);(e=o.F.get(e))&&e.resolve(void 0)}}}))},b.ga=function(t){N(this.a,t)},b.get=function(t){if(t=this.a.a.get(t))return t.constructorFunction},b.ya=function(e){var t;return zo(e)?((t=this.F.get(e))||(t=new ei,this.F.set(e,t),this.a.a.get(e)&&!this.u.some(function(t){return t.localName===e})&&t.resolve(void 0)),t.b):Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."))},b.Ra=function(e){ti(this.ca);var n=this.f;this.f=function(t){return e(function(){return n(t)})}},(window.CustomElementRegistry=T).prototype.define=T.prototype.xa,T.prototype.upgrade=T.prototype.ga,T.prototype.whenDefined=T.prototype.ya,T.prototype.polyfillWrapFlushCallback=T.prototype.Ra;var ni=window.Document.prototype.createElement,oi=window.Document.prototype.createElementNS,ii=window.Document.prototype.importNode,qo=window.Document.prototype.prepend,Vn=window.Document.prototype.append,Io=window.DocumentFragment.prototype.prepend,ao=window.DocumentFragment.prototype.append,ri=window.Node.prototype.cloneNode,si=window.Node.prototype.appendChild,ai=window.Node.prototype.insertBefore,ci=window.Node.prototype.removeChild,li=window.Node.prototype.replaceChild,Lo=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),hi=window.Element.prototype.attachShadow,ui=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),di=window.Element.prototype.getAttribute,pi=window.Element.prototype.setAttribute,fi=window.Element.prototype.removeAttribute,mi=window.Element.prototype.getAttributeNS,yi=window.Element.prototype.setAttributeNS,gi=window.Element.prototype.removeAttributeNS,vi=window.Element.prototype.insertAdjacentElement,bi=window.Element.prototype.insertAdjacentHTML,_i=window.Element.prototype.prepend,wi=window.Element.prototype.append,Ci=window.Element.prototype.before,Ei=window.Element.prototype.after,Si=window.Element.prototype.replaceWith,Ni=window.Element.prototype.remove,n=window.HTMLElement,Ti=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),ki=window.HTMLElement.prototype.insertAdjacentElement,xi=window.HTMLElement.prototype.insertAdjacentHTML,Di=new function(){};function Oi(a,t,e){function n(s){return function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var n=[],o=[],i=0;i<e.length;i++){var r=e[i];if(r instanceof Element&&w(r)&&o.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)n.push(r);else n.push(r)}for(s.apply(this,e),e=0;e<o.length;e++)S(a,o[e]);if(w(this))for(e=0;e<n.length;e++)(o=n[e])instanceof Element&&E(a,o)}}void 0!==e.ea&&(t.prepend=n(e.ea)),void 0!==e.append&&(t.append=n(e.append))}function Ai(){function e(t,r){Object.defineProperty(t,"innerHTML",{enumerable:r.enumerable,configurable:!0,get:r.get,set:function(t){var e=this,n=void 0;if(w(this)&&(n=[],Jo(this,function(t){t!==e&&n.push(t)})),r.set.call(this,t),n)for(var o=0;o<n.length;o++){var i=n[o];1===i.__CE_state&&s.disconnectedCallback(i)}return(this.ownerDocument.__CE_hasRegistry?N:Ko)(s,this),t}})}function t(t,o){C(t,"insertAdjacentElement",function(t,e){var n=w(e);return t=o.call(this,t,e),n&&S(s,e),w(t)&&E(s,e),t})}function n(t,o){function i(t,e){for(var n=[];t!==e;t=t.nextSibling)n.push(t);for(e=0;e<n.length;e++)N(s,n[e])}C(t,"insertAdjacentHTML",function(t,e){if("beforebegin"===(t=t.toLowerCase())){var n=this.previousSibling;o.call(this,t,e),i(n||this.parentNode.firstChild,this)}else if("afterbegin"===t)n=this.firstChild,o.call(this,t,e),i(this.firstChild,n);else if("beforeend"===t)n=this.lastChild,o.call(this,t,e),i(n||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");n=this.nextSibling,o.call(this,t,e),i(this.nextSibling,n)}})}var a,o,s=Mi;function i(s){return function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var n=[],o=[],i=0;i<e.length;i++){var r=e[i];if(r instanceof Element&&w(r)&&o.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)n.push(r);else n.push(r)}for(s.apply(this,e),e=0;e<o.length;e++)S(a,o[e]);if(w(this))for(e=0;e<n.length;e++)(o=n[e])instanceof Element&&E(a,o)}}hi&&C(Element.prototype,"attachShadow",function(t){return this.__CE_shadowRoot=t=hi.call(this,t)}),ui&&ui.get?e(Element.prototype,ui):Ti&&Ti.get?e(HTMLElement.prototype,Ti):$o(s,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return ri.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,o=oi.call(document,this.namespaceURI,this.localName);for(o.innerHTML=t;0<n.childNodes.length;)ci.call(n,n.childNodes[0]);for(t=e?o.content:o;0<t.childNodes.length;)si.call(n,t.childNodes[0])}})}),C(Element.prototype,"setAttribute",function(t,e){if(1!==this.__CE_state)return pi.call(this,t,e);var n=di.call(this,t);pi.call(this,t,e),e=di.call(this,t),s.attributeChangedCallback(this,t,n,e,null)}),C(Element.prototype,"setAttributeNS",function(t,e,n){if(1!==this.__CE_state)return yi.call(this,t,e,n);var o=mi.call(this,t,e);yi.call(this,t,e,n),n=mi.call(this,t,e),s.attributeChangedCallback(this,e,o,n,t)}),C(Element.prototype,"removeAttribute",function(t){if(1!==this.__CE_state)return fi.call(this,t);var e=di.call(this,t);fi.call(this,t),null!==e&&s.attributeChangedCallback(this,t,e,null,null)}),C(Element.prototype,"removeAttributeNS",function(t,e){if(1!==this.__CE_state)return gi.call(this,t,e);var n=mi.call(this,t,e),o=(gi.call(this,t,e),mi.call(this,t,e));n!==o&&s.attributeChangedCallback(this,e,n,o,t)}),ki?t(HTMLElement.prototype,ki):vi?t(Element.prototype,vi):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),xi?n(HTMLElement.prototype,xi):bi?n(Element.prototype,bi):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),Oi(s,Element.prototype,{ea:_i,append:wi}),a=s,o=Element.prototype,void 0!==Ci&&(o.before=i(Ci)),void 0!==Ci&&(o.after=i(Ei)),void 0!==Si&&C(o,"replaceWith",function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var n=[],o=[],i=0;i<e.length;i++){var r=e[i];if(r instanceof Element&&w(r)&&o.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)n.push(r);else n.push(r)}for(i=w(this),Si.apply(this,e),e=0;e<o.length;e++)S(a,o[e]);if(i)for(S(a,this),e=0;e<n.length;e++)(o=n[e])instanceof Element&&E(a,o)}),void 0!==Ni&&C(o,"remove",function(){var t=w(this);Ni.call(this),t&&S(a,this)})}var Mi,k,Li,Ri,l=window.customElements;function Bi(t,r){Object.defineProperty(t,"textContent",{enumerable:r.enumerable,configurable:!0,get:r.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)r.set.call(this,t);else{var e=void 0;if(this.firstChild){var n=this.childNodes,o=n.length;if(0<o&&w(this))for(var e=Array(o),i=0;i<o;i++)e[i]=n[i]}if(r.set.call(this,t),e)for(t=0;t<e.length;t++)S(k,e[t])}}})}function Pi(){var t=this.constructor,e=Ri.u.get(t);if(!e)throw Error("The custom element being constructed was not registered with `customElements`.");var n=e.constructionStack;if(0===n.length)return n=ni.call(document,e.localName),Object.setPrototypeOf(n,t.prototype),n.__CE_state=1,n.__CE_definition=e,Ri.b(n),n;var o=n[e=n.length-1];if(o===Di)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[e]=Di,Object.setPrototypeOf(o,t.prototype),Ri.b(o),o}function Fi(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function ji(t){var e=Ii,n=t=t.replace(zi,"").replace(Xi,""),o=new Fi;o.start=0,o.end=n.length;for(var i,r,s=o,a=0,c=n.length;a<c;a++)"{"===n[a]?(s.rules||(s.rules=[]),r=(i=s).rules[i.rules.length-1]||null,(s=new Fi).start=a+1,s.parent=i,s.previous=r,i.rules.push(s)):"}"===n[a]&&(s.end=a+1,s=s.parent||o);return e(o,t)}function Ii(t,e){var n=e.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent&&(n=(n=(n=(n=e.substring(t.previous?t.previous.end:t.parent.start,t.start-1)).replace(/\\([0-9a-f]{1,6})\s/gi,function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t})).replace(Zi," ")).substring(n.lastIndexOf(";")+1),n=t.parsedSelector=t.selector=n.trim(),t.atRule=0===n.indexOf("@"),t.atRule?0===n.indexOf("@media")?t.type=Vi:n.match(Qi)&&(t.type=Yi,t.keyframesName=t.selector.split(Zi).pop()):t.type=0===n.indexOf("--")?Wi:Ui),n=t.rules)for(var o=0,i=n.length,r=void 0;o<i&&(r=n[o]);o++)Ii(r,e);return t}l&&!l.forcePolyfill&&"function"==typeof l.define&&"function"==typeof l.get||(Mi=new Go,Ri=Mi,window.HTMLElement=(Pi.prototype=n.prototype,Object.defineProperty(Pi.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:Pi}),Pi),Li=Mi,C(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var e=Li.a.get(t);if(e)return new e.constructorFunction}return t=ni.call(this,t),Li.b(t),t}),C(Document.prototype,"importNode",function(t,e){return t=ii.call(this,t,!!e),(this.__CE_hasRegistry?N:Ko)(Li,t),t}),C(Document.prototype,"createElementNS",function(t,e){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var n=Li.a.get(e);if(n)return new n.constructorFunction}return t=oi.call(this,t,e),Li.b(t),t}),Oi(Li,Document.prototype,{ea:qo,append:Vn}),Oi(Mi,DocumentFragment.prototype,{ea:Io,append:ao}),k=Mi,C(Node.prototype,"insertBefore",function(t,e){if(t instanceof DocumentFragment){var n=Array.prototype.slice.apply(t.childNodes);if(t=ai.call(this,t,e),w(this))for(e=0;e<n.length;e++)E(k,n[e]);return t}return n=w(t),e=ai.call(this,t,e),n&&S(k,t),w(this)&&E(k,t),e}),C(Node.prototype,"appendChild",function(t){if(t instanceof DocumentFragment){var e=Array.prototype.slice.apply(t.childNodes);if(t=si.call(this,t),w(this))for(var n=0;n<e.length;n++)E(k,e[n]);return t}return e=w(t),n=si.call(this,t),e&&S(k,t),w(this)&&E(k,t),n}),C(Node.prototype,"cloneNode",function(t){return t=ri.call(this,!!t),(this.ownerDocument.__CE_hasRegistry?N:Ko)(k,t),t}),C(Node.prototype,"removeChild",function(t){var e=w(t),n=ci.call(this,t);return e&&S(k,t),n}),C(Node.prototype,"replaceChild",function(t,e){if(t instanceof DocumentFragment){var n=Array.prototype.slice.apply(t.childNodes);if(t=li.call(this,t,e),w(this))for(S(k,e),e=0;e<n.length;e++)E(k,n[e]);return t}var n=w(t),o=li.call(this,t,e),i=w(this);return i&&S(k,e),n&&S(k,t),i&&E(k,t),o}),Lo&&Lo.get?Bi(Node.prototype,Lo):$o(k,function(t){Bi(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)ci.call(this,this.firstChild);si.call(this,document.createTextNode(t))}})}),Ai(),document.__CE_hasRegistry=!0,_=new T(Mi),Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:_}));var Hi,qi,Ui=1,Yi=7,Vi=4,Wi=1e3,zi=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,Xi=/@import[^;]*;/gim,Ji=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,Gi=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,$i=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,Ki=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,Qi=/^@[^\s]*keyframes/,Zi=/\s+/g,x=!(window.ShadyDOM&&window.ShadyDOM.inUse);function tr(t){Hi=(!t||!t.shimcssproperties)&&(x||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(qi=window.ShadyCSS.cssBuild);var er=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime),D=(window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Hi=window.ShadyCSS.nativeCss:window.ShadyCSS?(tr(window.ShadyCSS),window.ShadyCSS=void 0):tr(window.WebComponents&&window.WebComponents.flags),Hi),nr=qi,or=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,ir=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,rr=/(--[\w-]+)\s*([:,;)]|$)/gi,sr=/(animation\s*:)|(animation-name\s*:)/,ar=/@media\s(.*)/,cr=/\{[^}]*\}/g,lr=new Set;function hr(t,e){return t?("string"==typeof t&&(t=ji(t)),e&&pr(t,e),function t(e,n,o){o=void 0===o?"":o;var i="";if(e.cssText||e.rules){var r=e.rules;if(s=(s=r)&&!((s=r[0])&&s.selector&&0===s.selector.indexOf("--")))for(var s=0,a=r.length,c=void 0;s<a&&(c=r[s]);s++)i=t(c,n,i);else i=(i=(n=n?e.cssText:(n=(n=e.cssText).replace(Ji,"").replace(Gi,"")).replace($i,"").replace(Ki,"")).trim())&&"  "+i+"\n"}return i&&(e.selector&&(o+=e.selector+" {\n"),o+=i,e.selector)&&(o+="}\n\n"),o}(t,D)):""}function ur(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=ji(t.textContent)),t.__cssRules||null}function dr(t){return t.parent&&t.parent.type===Yi}function pr(t,e,n,o){if(t){var i,r=!1,s=t.type;if(o&&s===Vi&&(i=t.selector.match(ar))&&!window.matchMedia(i[1]).matches&&(r=!0),s===Ui?e(t):n&&s===Yi?n(t):s===Wi&&(r=!0),(t=t.rules)&&!r)for(s=t.length,i=void(r=0);r<s&&(i=t[r]);r++)pr(i,e,n,o)}}function fr(t,e,n,o){var i=document.createElement("style");return e&&i.setAttribute("scope",e),i.textContent=t,gr(i,n,o),i}var mr=null;function yr(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(mr?mr.nextSibling:null)||e.firstChild),mr=t}function gr(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),mr&&t.compareDocumentPosition(mr)!==Node.DOCUMENT_POSITION_PRECEDING||(mr=t)}function vr(t,e){for(var n=0,o=t.length;e<o;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function br(t,e){x?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}var _r=window.ShadyDOM&&window.ShadyDOM.wrap||function(t){return t};function wr(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,W:n}}function Cr(t){for(var e,n=[],o="",i=0;0<=i&&i<t.length;i++)"("===t[i]?(e=vr(t,i),o+=t.slice(i,e+1),i=e):","===t[i]?(n.push(o),o=""):o+=t[i];return o&&n.push(o),n}function Er(t){var e,n;return void 0!==nr?nr:(void 0===t.__cssBuild&&((n=t.getAttribute("css-build"))||""!==(n=(n=("template"===t.localName?t.content:t).firstChild)instanceof Comment&&"css-build"===(n=n.textContent.trim().split(":"))[0]?n[1]:"")&&(e=("template"===t.localName?t.content:t).firstChild).parentNode.removeChild(e),t.__cssBuild=n),t.__cssBuild||"")}function Sr(t){return!(""===(t=void 0===t?"":t)||!D)&&(x?"shadow"===t:"shady"===t)}function Nr(){}function Tr(t,e,n){var o;if(e.nodeType===Node.ELEMENT_NODE&&n(e),o="template"===e.localName?(e.content||e._content||e).childNodes:e.children||e.childNodes)for(e=0;e<o.length;e++)Tr(t,o[e],n)}function kr(t,e,n){var o;e&&(t.classList?n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e)):t.getAttribute&&(o=t.getAttribute("class"),n?o&&br(t,e=o.replace("style-scope","").replace(e,"")):br(t,(o?o+" ":"")+"style-scope "+e)))}function xr(t,e,n,o,i){var r,s,a,c,l=O;return(i=""===(i=void 0===i?"":i)?x||"shady"===(void 0===o?"":o)?hr(e,n):(t=wr(t),r=l,s=t.is,o=t.W,a=n,c=Dr(s,o),s=s?"."+s:"",hr(e,function(t){t.c||(t.selector=t.C=Or(r,t,r.b,s,c),t.c=!0),a&&a(t,s,c)})+"\n\n"):i).trim()}function Dr(t,e){return e?"[is="+t+"]":t}function Or(t,e,n,o,i){var r=Cr(e.selector);if(!dr(e))for(var s=r.length,a=void(e=0);e<s&&(a=r[e]);e++)r[e]=n.call(t,a,o,i);return r.filter(function(t){return!!t}).join(",")}function Ar(t){return t.replace(Rr,function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"})}function Mr(t,e){t=t.split(/(\[.+?\])/);for(var n,o=[],i=0;i<t.length;i++)1==i%2?o.push(t[i]):""===(n=t[i])&&i===t.length-1||((n=n.split(":"))[0]+=e,o.push(n.join(":")));return o.join("")}function Lr(t){":root"===t.selector&&(t.selector="html")}Nr.prototype.b=function(t,o,i){var e,r,s=!1,n=(t=t.trim(),Rr.test(t)),a=(n&&(t=Ar(t=t.replace(Rr,function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"}))),qr.test(t));return a&&(t=(e=function(t){for(var e,n=[];e=t.match(qr);){var o=e.index,i=vr(t,o);if(-1===i)throw Error(e.input+" selector missing ')'");e=t.slice(o,i+1),t=t.replace(e,""),n.push(e)}return{pa:t,matches:n}}(t)).pa,e=e.matches),t=(t=t.replace(Fr,":host $1")).replace(Br,function(t,e,n){return s||(t=function(t,e,n,o){var i=t.indexOf("::slotted");{var r;0<=t.indexOf(":host")?t=function(t,o){var e=t.match(jr);return(e=e&&e[2].trim()||"")?e[0].match(Pr)?t.replace(jr,function(t,e,n){return o+n}):e.split(Pr)[0]===o?e:"should_not_match":t.replace(":host",o)}(t,o):0!==i&&(t=n?Mr(t,n):t),n=!1,(n=0<=i?!(e=""):n)&&(r=!0,n)&&(t=t.replace(Ir,function(t,e){return" > "+e}))}return{value:t=t.replace(Hr,function(t,e,n){return'[dir="'+n+'"] '+e+", "+e+'[dir="'+n+'"]'}),Ha:e,stop:r}}(n,e,o,i),s=s||t.stop,e=t.Ha,n=t.value),e+n}),a&&(a=e,r=t.split(""),t=a.reduce(function(t,e,n){return t+e+r[n+1]},r[0])),t=n?Ar(t):t},Nr.prototype.c=function(t){return t.match(":host")?"":t.match("::slotted")?this.b(t,":not(.style-scope)"):Mr(t.trim(),":not(.style-scope)")},o.Object.defineProperties(Nr.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var Rr=/:(nth[-\w]+)\(([^)]+)\)/,Br=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,Pr=/[[.:#*]/,Fr=/^(::slotted)/,jr=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Ir=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Hr=/(.*):dir\((?:(ltr|rtl))\)/,qr=/:(?:matches|any|-(?:webkit|moz)-any)/,O=new Nr;function Ur(t,e,n,o,i){this.L=t||null,this.b=e||null,this.na=n||[],this.G=null,this.cssBuild=i||"",this.W=o||"",this.a=this.H=this.K=null}function A(t){return t?t.__styleInfo:null}function Yr(t,e){return t.__styleInfo=e}function Vr(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}Ur.prototype._getStyleRules=Ur.prototype.c=function(){return this.L};var Wr=navigator.userAgent.match("Trident");function zr(){}function Xr(t){var e,n;t.A||(e={},Jr(t,n={})&&(e.J=n,t.rules=null),e.cssText=t.parsedCssText.replace(cr,"").replace(or,""),t.A=e)}function Jr(t,e){var n,o=t.A;if(o)return o.J&&(Object.assign(e,o.J),1);for(o=t.parsedCssText;t=or.exec(o);)"inherit"===(n=(t[2]||t[3]).trim())&&"unset"===n||(e[t[1].trim()]=n),n=!0;return n}function Gr(i,t,r){return(t=t&&(0<=t.indexOf(";")?$r(i,t,r):function t(e,n){var o,i,r;return-1===(r=e.indexOf("var("))?n(e,"","",""):(o=vr(e,r+3),i=e.substring(r+4,o),r=e.substring(0,r),e=t(e.substring(o+1),n),-1===(o=i.indexOf(","))?n(r,i.trim(),"",e):n(r,i.substring(0,o).trim(),i.substring(o+1).trim(),e))}(t,function(t,e,n,o){return e?((e=Gr(i,r[e],r))&&"initial"!==e?"apply-shim-inherit"===e&&(e="inherit"):e=Gr(i,r[n]||n,r)||n,t+(e||"")+o):t+o})))&&t.trim()||""}function $r(t,e,n){e=e.split(";");for(var o,i,r,s=0;s<e.length;s++)(o=e[s])&&(ir.lastIndex=0,(r=ir.exec(o))?o=Gr(t,n[r[1]],n):-1!==(r=o.indexOf(":"))&&(i=Gr(t,i=(i=o.substring(r)).trim(),n)||i,o=o.substring(0,r)+i),e[s]=o&&o.lastIndexOf(";")===o.length-1?o.slice(0,-1):o||"");return e.join(";")}function Kr(l,t,h){var u={},d={};return pr(t,function(e){var t,n,o,i,r,s,a,c;t=l,o=h,i=function(t){Vr.call(l._element||l,t.pa)&&(t.Oa?Jr(e,u):Jr(e,d))},(n=e).A||Xr(n),n.A.J&&(t=(r=wr(t)).is,r=r.W,r=t?Dr(t,r):"html",a=":host > *"===(s=n.parsedSelector)||"html"===s,c=0===s.indexOf(":host")&&!a,"shady"===o&&(c=!(a=s===r+" > *."+r||-1!==s.indexOf("html"))&&0===s.indexOf(r)),a||c)&&(o=r,c&&(n.C||(n.C=Or(O,n,O.b,t?"."+t:"",r)),o=n.C||r),i({pa:o,Oa:c,ab:a}))},null,!0),{Ta:d,Ma:u}}function Qr(s,t,a,c){var l=Dr((e=wr(t)).is,e.W),h=new RegExp("(?:^|[^.#[:])"+(t.extends?"\\"+l.slice(0,-1)+"\\]":l)+"($|[.:[\\s>+~])"),e=(n=A(t)).L,n=n.cssBuild,u=function(t,e){t=t.b;var n={};if(!x&&t)for(var o=0,i=t[o];o<t.length;i=t[++o]){var r=i,s=e;r.f=new RegExp("\\b"+r.keyframesName+"(?!\\B|-)","g"),r.a=r.keyframesName+"-"+s,r.C=r.C||r.selector,r.selector=r.C.replace(r.keyframesName,r.a),n[i.keyframesName]=function(e){return function(t){return t.replace(e.f,e.a)}}(i)}return n}(e,c);return xr(t,e,function(t){var e="";if(t.A||Xr(t),t.A.cssText&&(e=$r(s,t.A.cssText,a)),t.cssText=e,!x&&!dr(t)&&t.cssText){var n=e=t.cssText;if(null==t.ta&&(t.ta=sr.test(e)),t.ta)if(null==t.da)for(var o in t.da=[],u)n=u[o],n=n(e),e!==n&&(e=n,t.da.push(o));else{for(o=0;o<t.da.length;++o)e=(n=u[t.da[o]])(e);n=e}t.cssText=n,t.C=t.C||t.selector;for(var e="."+c,n=0,i=(o=Cr(t.C)).length,r=void 0;n<i&&(r=o[n]);n++)o[n]=r.match(h)?r.replace(l,e):e+" "+r;t.selector=o.join(",")}},n)}o.Object.defineProperties(zr.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var Zr,ts=new zr,es={},ns=window.customElements;function os(){this.cache={}}function is(){}!ns||x||er||(Zr=ns.define,ns.define=function(t,e,n){es[t]||(es[t]=yr(t)),Zr.call(ns,t,e,n)}),os.prototype.store=function(t,e,n,o){var i=this.cache[t]||[];i.push({J:e,styleElement:n,H:o}),100<i.length&&i.shift(),this.cache[t]=i};var rs,ss,as,cs=new RegExp(O.a+"\\s*([^\\s]*)");function ls(t){return(t=(t.classList&&t.classList.value?t.classList.value:t.getAttribute("class")||"").match(cs))?t[1]:""}function hs(t){var e=_r(t).getRootNode();return e!==t&&e!==t.ownerDocument&&(t=e.host)?wr(t).is:""}function us(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var o=0;o<n.addedNodes.length;o++){var i=n.addedNodes[o];if(i.nodeType===Node.ELEMENT_NODE){var r=i.getRootNode(),s=ls(i);if(s&&r===i.ownerDocument&&("style"!==i.localName&&"template"!==i.localName||""===Er(i)))!function(t,e){Tr(O,t,function(t){kr(t,e||"",!0)})}(i,s);else if(r instanceof ShadowRoot)for((r=hs(i))!==s&&function(t,e,n){Tr(O,t,function(t){kr(t,e,!0),kr(t,n)})}(i,s,r),i=window.ShadyDOM.nativeMethods.querySelectorAll.call(i,":not(."+O.a+")"),s=0;s<i.length;s++){var a=hs(r=i[s]);a&&kr(r,a)}}}}}x||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping||(rs=new MutationObserver(us),ss=function(t){rs.observe(t,{childList:!0,subtree:!0})},window.customElements&&!window.customElements.polyfillWrapFlushCallback?ss(document):(as=function(){ss(document.body)},window.HTMLImports?window.HTMLImports.whenReady(as):requestAnimationFrame(function(){var t;"loading"===document.readyState?(t=function(){as(),document.removeEventListener("readystatechange",t)},document.addEventListener("readystatechange",t)):as()})),is=function(){us(rs.takeRecords())});var ds=is,ps={},fs=Promise.resolve();function ms(t){(t=ps[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function ys(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var gs={},vs=new os;function M(){this.F={},this.c=document.documentElement;var t=new Fi;t.rules=[],this.f=Yr(this.c,new Ur(t)),this.u=!1,this.b=this.a=null}function bs(t){var e=wr(t),n=e.is,o=(e=e.W,es[n]||null),n=ps[n];if(n)return Yr(t,e=new Ur(n._styleAst,o,n.a,e,Er(n))),e}function _s(t){var e;!t.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(t.a=window.ShadyCSS.ApplyShim,t.a.invalidCallback=ms),!(e=t).b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(e.b=window.ShadyCSS.CustomStyleInterface,e.b.transformCallback=function(t){e.wa(t)},e.b.validateCallback=function(){requestAnimationFrame(function(){(e.b.enqueued||e.u)&&e.flushCustomStyles()})})}function ws(t,e,n){var o,i=wr(e).is;if(n.G){var r,s=n.G;for(r in s)null===r?e.style.removeProperty(r):e.style.setProperty(r,s[r])}!(s=ps[i])&&e!==t.c||s&&""!==Er(s)||!s||!s._style||ys(s)||(!ys(s)&&s._applyShimValidatingVersion===s._applyShimNextVersion||(_s(t),t.a&&t.a.transformRules(s._styleAst,i),s._style.textContent=xr(e,n.L),(o=s)._applyShimValidatingVersion=o._applyShimNextVersion,o._validating)||(o._validating=!0,fs.then(function(){o._applyShimCurrentVersion=o._applyShimNextVersion,o._validating=!1})),x&&(t=(t=e.shadowRoot)&&t.querySelector("style"))&&(t.textContent=xr(e,n.L)),n.L=s._styleAst)}function Cs(t,e){return(e=_r(e).getRootNode().host)?A(e)||bs(e)?e:Cs(t,e):t.c}function Es(t,e,n){var o,i,r,s=Cs(t,e),a=A(s),c=a.K;for(r in s===t.c||c||(Es(t,s,a),c=a.K),t=Object.create(c||null),s=Kr(e,n.L,n.cssBuild),c=a.L,o=e,i={},pr(c,function(t){t.A||Xr(t);var e=t.C||t.parsedSelector;o&&t.A.J&&e&&Vr.call(o,e)&&(Jr(t,i),t=t.index,e=parseInt(t/32,10),e,0)},null,!0),e=i,Object.assign(t,s.Ma,e,s.Ta),e=n.G)!(a=e[r])&&0!==a||(t[r]=a);for(r=ts,e=Object.getOwnPropertyNames(t),a=0;a<e.length;a++)t[s=e[a]]=Gr(r,t[s],t);n.K=t}(b=M.prototype).flush=function(){ds()},b.Ka=ur,b.Xa=function(t){return hr(t)},b.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},b.prepareTemplateStyles=function(t,e,n){if(!t._prepared&&!er){x||es[e]||(es[e]=yr(e)),t._prepared=!0,t.name=e,t.extends=n;var o=Er(ps[e]=t),i=Sr(o);n={is:e,extends:n};for(var r=[],s=t.content.querySelectorAll("style"),a=0;a<s.length;a++){var c,l=s[a];l.hasAttribute("shady-unscoped")?x||(c=l.textContent,lr.has(c)||(lr.add(c),c=l.cloneNode(!0),document.head.appendChild(c)),l.parentNode.removeChild(l)):(r.push(l.textContent),l.parentNode.removeChild(l))}r=r.join("").trim()+(gs[e]||""),_s(this),i||((s=!o)&&(s=ir.test(r)||or.test(r),ir.lastIndex=0,or.lastIndex=0),a=ji(r),s&&D&&this.a&&this.a.transformRules(a,e),t._styleAst=a),s=[],(s=D?s:function(t){var e,o={},n=[],i=0;for(e in pr(t,function(t){Xr(t),t.index=i++,t=t.A.cssText;for(var e;e=rr.exec(t);){var n=e[1];":"!==e[2]&&(o[n]=!0)}},function(t){n.push(t)}),t.b=n,t=[],o)t.push(e);return t}(t._styleAst)).length&&!D||(a=x?t.content:null,e=es[e]||null,o=(o=xr(n,t._styleAst,null,o,i?r:"")).length?fr(o,n.is,a,e):null,t._style=o),t.a=s}},b.Sa=function(t,e){gs[e]=t.join(" ")},b.prepareTemplateDom=function(t,e){var n,o;er||(n=Er(t),x)||"shady"===n||t._domPrepared||(t._domPrepared=!0,n=t.content,o=e,Tr(O,n,function(t){kr(t,o||"")}))},b.flushCustomStyles=function(){if(!er&&(_s(this),this.b)){var t=this.b.processStyles();if(this.b.enqueued&&!Sr(this.f.cssBuild)){if(D){if(!this.f.cssBuild)for(var e=0;e<t.length;e++){var n,o=this.b.getStyleForCustomStyle(t[e]);o&&D&&this.a&&(n=ur(o),_s(this),this.a.transformRules(n),o.textContent=hr(n))}}else{for(Es(this,this.c,this.f),e=0;e<t.length;e++)(o=this.b.getStyleForCustomStyle(t[e]))&&function(t,n){var o=ts,e=ur(t);t.textContent=hr(e,function(t){var e=t.cssText=t.parsedCssText;t.A&&t.A.cssText&&(e=e.replace(Ji,"").replace(Gi,""),t.cssText=$r(o,e,n))})}(o,this.f.K);this.u&&this.styleDocument()}this.b.enqueued=!1}}},b.styleElement=function(t,e){var n,o;if(er)e&&(A(t)||Yr(t,new Ur(null)),(n=A(t)).G=n.G||{},Object.assign(n.G,e),ws(this,t,n));else if(n=A(t)||bs(t))if(t!==this.c&&(this.u=!0),e&&(n.G=n.G||{},Object.assign(n.G,e)),D)ws(this,t,n);else if(this.flush(),Es(this,t,n),n.na&&n.na.length){e=wr(t).is;t:{if(o=vs.cache[e])for(var i=o.length-1;0<=i;i--){var r=o[i];e:{for(var s=n.na,a=0;a<s.length;a++){var c=s[a];if(r.J[c]!==n.K[c]){s=!1;break e}}s=!0}if(s){o=r;break t}}o=void 0}s=o?o.styleElement:null,i=n.H,(r=o&&o.H)||(r=e+"-"+(r=this.F[e]=(this.F[e]||0)+1)),n.H=r,r=n.H,a=ts;var a=s?s.textContent||"":Qr(a,t,n.K,r),l=(c=A(t)).a;l&&!x&&l!==s&&(l._useCount--,l._useCount<=0)&&l.parentNode&&l.parentNode.removeChild(l),x?c.a?(c.a.textContent=a,s=c.a):a&&(s=fr(a,r,t.shadowRoot,c.b)):s?s.parentNode||(Wr&&-1<a.indexOf("@media")&&(s.textContent=a),gr(s,null,c.b)):a&&(s=fr(a,r,null,c.b)),s&&(s._useCount=s._useCount||0,c.a!=s&&s._useCount++,c.a=s),r=s,x||(s=n.H,c=a=t.getAttribute("class")||"",i&&(c=a.replace(new RegExp("\\s*x-scope\\s*"+i+"\\s*","g")," ")),a!==(c+=(c?" ":"")+"x-scope "+s)&&br(t,c)),o||vs.store(e,n.K,r,n.H)}},b.styleDocument=function(t){this.styleSubtree(this.c,t)},b.styleSubtree=function(t,e){var n=_r(t),o=n.shadowRoot;if(!o&&t!==this.c||this.styleElement(t,e),t=o&&(o.children||o.childNodes))for(n=0;n<t.length;n++)this.styleSubtree(t[n]);else if(n=n.children||n.childNodes)for(t=0;t<n.length;t++)this.styleSubtree(n[t])},b.wa=function(t){var e,n=this,o=Er(t);o!==this.f.cssBuild&&(this.f.cssBuild=o),Sr(o)||(pr(e=ur(t),function(t){var e;x?Lr(t):(e=O,t.selector=t.parsedSelector,Lr(t),t.selector=t.C=Or(e,t,e.c,void 0,void 0)),D&&""===o&&(_s(n),n.a)&&n.a.transformRule(t)}),D?t.textContent=hr(e):this.f.L.rules.push(e))},b.getComputedStyleValue=function(t,e){var n;return(n=(n=D?n:(A(t)||A(Cs(this,t))).K[e])||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},b.Wa=function(t,e){var n=_r(t).getRootNode();if((e=e?e.split(/\s/):[],!(n=n.host&&n.host.localName))&&(o=t.getAttribute("class")))for(var o=o.split(/\s/),i=0;i<o.length;i++)if(o[i]===O.a){n=o[i+1];break}n&&e.push(O.a,n),D||(n=A(t))&&n.H&&e.push(ts.a,n.H),br(t,e.join(" "))},b.Fa=A,b.Va=function(t,e){kr(t,e)},b.Ya=function(t,e){kr(t,e,!0)},b.Ua=hs,b.Ia=ls,M.prototype.setElementClass=M.prototype.Wa,M.prototype._styleInfoForNode=M.prototype.Fa,M.prototype.transformCustomStyleForDocument=M.prototype.wa,M.prototype.getStyleAst=M.prototype.Ka,M.prototype.styleAstToString=M.prototype.Xa,M.prototype.scopeNode=M.prototype.Va,M.prototype.unscopeNode=M.prototype.Ya,M.prototype.scopeForNode=M.prototype.Ua,M.prototype.currentScopeForNode=M.prototype.Ia,M.prototype.prepareAdoptedCssText=M.prototype.Sa,Object.defineProperties(M.prototype,{nativeShadow:{get:function(){return x}},nativeCss:{get:function(){return D}}});var Ss,Ns,L=new M,yn=(window.ShadyCSS&&(Ss=window.ShadyCSS.ApplyShim,Ns=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:L,prepareTemplate:function(t,e,n){L.flushCustomStyles(),L.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){L.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){L.flushCustomStyles(),L.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){L.flushCustomStyles(),L.styleSubtree(t,e)},styleElement:function(t){L.flushCustomStyles(),L.styleElement(t)},styleDocument:function(t){L.flushCustomStyles(),L.styleDocument(t)},flushCustomStyles:function(){L.flushCustomStyles()},getComputedStyleValue:function(t,e){return L.getComputedStyleValue(t,e)},nativeCss:D,nativeShadow:x,cssBuild:nr,disableRuntime:er},Ss&&(window.ShadyCSS.ApplyShim=Ss),Ns&&(window.ShadyCSS.CustomStyleInterface=Ns),window);function Ts(t){return""==t&&(xs.call(this),this.i=!0),t.toLowerCase()}function ks(t){var e=t.charCodeAt(0);return 32<e&&e<127&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function R(t,e,n){function o(t){u.push(t)}var i,r,s=e||"scheme start",a=0,c="",l=!1,h=!1,u=[];t:for(;(null!=t[a-1]||0==a)&&!this.i;){var d=t[a];switch(s){case"scheme start":if(!d||!As.test(d)){if(e){o("Invalid scheme.");break t}c="",s="no scheme";continue}c+=d.toLowerCase(),s="scheme";break;case"scheme":if(d&&Ms.test(d))c+=d.toLowerCase();else{if(":"!=d){if(e){null!=d&&o("Code point not allowed in scheme: "+d);break t}c="",a=0,s="no scheme";continue}if(this.h=c,c="",e)break t;void 0!==B[this.h]&&(this.B=!0),s="file"==this.h?"relative":this.B&&n&&n.h==this.h?"relative or authority":this.B?"authority first slash":"scheme data"}break;case"scheme data":"?"==d?(this.o="?",s="query"):"#"==d?(this.v="#",s="fragment"):null!=d&&"\t"!=d&&"\n"!=d&&"\r"!=d&&(this.la+=ks(d));break;case"no scheme":if(n&&void 0!==B[n.h]){s="relative";continue}o("Missing scheme."),xs.call(this),this.i=!0;break;case"relative or authority":if("/"!=d||"/"!=t[a+1]){o("Expected /, got: "+d),s="relative";continue}s="authority ignore slashes";break;case"relative":if(this.B=!0,"file"!=this.h&&(this.h=n.h),null==d){this.j=n.j,this.m=n.m,this.l=n.l.slice(),this.o=n.o,this.s=n.s,this.g=n.g;break t}if("/"==d||"\\"==d)"\\"==d&&o("\\ is an invalid code point."),s="relative slash";else if("?"==d)this.j=n.j,this.m=n.m,this.l=n.l.slice(),this.o="?",this.s=n.s,this.g=n.g,s="query";else{if("#"!=d){var s=t[a+1],p=t[a+2];("file"!=this.h||!As.test(d)||":"!=s&&"|"!=s||null!=p&&"/"!=p&&"\\"!=p&&"?"!=p&&"#"!=p)&&(this.j=n.j,this.m=n.m,this.s=n.s,this.g=n.g,this.l=n.l.slice(),this.l.pop()),s="relative path";continue}this.j=n.j,this.m=n.m,this.l=n.l.slice(),this.o=n.o,this.v="#",this.s=n.s,this.g=n.g,s="fragment"}break;case"relative slash":if("/"!=d&&"\\"!=d){"file"!=this.h&&(this.j=n.j,this.m=n.m,this.s=n.s,this.g=n.g),s="relative path";continue}"\\"==d&&o("\\ is an invalid code point."),s="file"==this.h?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=d){o("Expected '/', got: "+d),s="authority ignore slashes";continue}s="authority second slash";break;case"authority second slash":if(s="authority ignore slashes","/"==d)break;o("Expected '/', got: "+d);continue;case"authority ignore slashes":if("/"!=d&&"\\"!=d){s="authority";continue}o("Expected authority, got: "+d);break;case"authority":if("@"==d){for(l&&(o("@ already seen."),c+="%40"),l=!0,d=0;d<c.length;d++)"\t"==(p=c[d])||"\n"==p||"\r"==p?o("Invalid whitespace in authority."):":"==p&&null===this.g?this.g="":(p=ks(p),null!==this.g?this.g+=p:this.s+=p);c=""}else{if(null==d||"/"==d||"\\"==d||"?"==d||"#"==d){a-=c.length,c="",s="host";continue}c+=d}break;case"file host":if(null==d||"/"==d||"\\"==d||"?"==d||"#"==d){s=2!=c.length||!As.test(c[0])||":"!=c[1]&&"|"!=c[1]?(0!=c.length&&(this.j=Ts.call(this,c),c=""),"relative path start"):"relative path";continue}"\t"==d||"\n"==d||"\r"==d?o("Invalid whitespace in file host."):c+=d;break;case"host":case"hostname":if(":"!=d||h){if(null==d||"/"==d||"\\"==d||"?"==d||"#"==d){if(this.j=Ts.call(this,c),c="",s="relative path start",e)break t;continue}"\t"!=d&&"\n"!=d&&"\r"!=d?("["==d?h=!0:"]"==d&&(h=!1),c+=d):o("Invalid code point in host/hostname: "+d)}else if(this.j=Ts.call(this,c),c="",s="port","hostname"==e)break t;break;case"port":if(/[0-9]/.test(d))c+=d;else{if(null==d||"/"==d||"\\"==d||"?"==d||"#"==d||e){if(""!=c&&((c=parseInt(c,10))!=B[this.h]&&(this.m=c+""),c=""),e)break t;s="relative path start";continue}"\t"==d||"\n"==d||"\r"==d?o("Invalid code point in port: "+d):(xs.call(this),this.i=!0)}break;case"relative path start":if("\\"==d&&o("'\\' not allowed in path."),s="relative path","/"!=d&&"\\"!=d)continue;break;case"relative path":null!=d&&"/"!=d&&"\\"!=d&&(e||"?"!=d&&"#"!=d)?"\t"!=d&&"\n"!=d&&"\r"!=d&&(c+=ks(d)):("\\"==d&&o("\\ not allowed in relative path."),".."==(c=(p=Os[c.toLowerCase()])?p:c)?(this.l.pop(),"/"!=d&&"\\"!=d&&this.l.push("")):"."==c&&"/"!=d&&"\\"!=d?this.l.push(""):"."!=c&&("file"==this.h&&0==this.l.length&&2==c.length&&As.test(c[0])&&"|"==c[1]&&(c=c[0]+":"),this.l.push(c)),c="","?"==d?(this.o="?",s="query"):"#"==d&&(this.v="#",s="fragment"));break;case"query":e||"#"!=d?null!=d&&"\t"!=d&&"\n"!=d&&"\r"!=d&&(this.o+=(r=void 0,32<(r=(i=d).charCodeAt(0))&&r<127&&-1==[34,35,60,62,96].indexOf(r)?i:encodeURIComponent(i))):(this.v="#",s="fragment");break;case"fragment":null!=d&&"\t"!=d&&"\n"!=d&&"\r"!=d&&(this.v+=d)}a++}}function xs(){this.s=this.la=this.h="",this.g=null,this.m=this.j="",this.l=[],this.v=this.o="",this.B=this.i=!1}function Ds(t,e){void 0===e||e instanceof Ds||(e=new Ds(String(e))),this.a=t,xs.call(this),t=this.a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),R.call(this,t,null,e)}var B,Os,As,Ms,Ls,Ho=!1;try{var Rs=new URL("b","http://a");Rs.pathname="c%20d",Ho="http://a/c%20d"===Rs.href}catch(t){}Ho||((B=Object.create(null)).ftp=21,B.file=0,B.gopher=70,B.http=80,B.https=443,B.ws=80,B.wss=443,(Os=Object.create(null))["%2e"]=".",Os[".%2e"]="..",Os["%2e."]="..",Os["%2e%2e"]="..",As=/[a-zA-Z]/,Ms=/[a-zA-Z0-9\+\-\.]/,Ds.prototype={toString:function(){return this.href},get href(){var t;return this.i?this.a:((t="")==this.s&&null==this.g||(t=this.s+(null!=this.g?":"+this.g:"")+"@"),this.protocol+(this.B?"//"+t+this.host:"")+this.pathname+this.o+this.v)},set href(t){xs.call(this),R.call(this,t)},get protocol(){return this.h+":"},set protocol(t){this.i||R.call(this,t+":","scheme start")},get host(){return this.i?"":this.m?this.j+":"+this.m:this.j},set host(t){!this.i&&this.B&&R.call(this,t,"host")},get hostname(){return this.j},set hostname(t){!this.i&&this.B&&R.call(this,t,"hostname")},get port(){return this.m},set port(t){!this.i&&this.B&&R.call(this,t,"port")},get pathname(){return this.i?"":this.B?"/"+this.l.join("/"):this.la},set pathname(t){!this.i&&this.B&&(this.l=[],R.call(this,t,"relative path start"))},get search(){return this.i||!this.o||"?"==this.o?"":this.o},set search(t){!this.i&&this.B&&((this.o="?")==t[0]&&(t=t.slice(1)),R.call(this,t,"query"))},get hash(){return this.i||!this.v||"#"==this.v?"":this.v},set hash(t){this.i||(t?((this.v="#")==t[0]&&(t=t.slice(1)),R.call(this,t,"fragment")):this.v="")},get origin(){var t;if(this.i||!this.h)return"";switch(this.h){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this.h+"://"+t:""}},(Ls=yn.URL)&&(Ds.createObjectURL=function(t){return Ls.createObjectURL.apply(Ls,arguments)},Ds.revokeObjectURL=function(t){Ls.revokeObjectURL(t)}),yn.URL=Ds),Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var t=(this.ownerDocument||this).querySelector("base[href]");return t&&t.href||window.location.href},configurable:!0,enumerable:!0});var Ro=document.createElement("style"),Cn=(Ro.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n",document.querySelector("head")),Un=(Cn.insertBefore(Ro,Cn.firstChild),window.customElements),Bs=!1,Ps=null;function Fs(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),Ps&&Ps(),Bs=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}Un.polyfillWrapFlushCallback&&Un.polyfillWrapFlushCallback(function(t){Ps=t,Bs&&t()}),"complete"!==document.readyState?(window.addEventListener("load",Fs),window.addEventListener("DOMContentLoaded",function(){window.removeEventListener("load",Fs),Fs()})):Fs()}.call(this);class ChatController{constructor(){this.activeForm={},this.dateCounter=1,this.datePicker=null,this.dateClass="",this.context=null,this.processor=null,this.input=null,this.sttClient=null,this.ttsClient=null,this.SESSION_ENUM={DETECTED_LANGUAGE:"detectedLanguage"}}init(){this.masterBotId=window.chatSettings.masterBotID,"localhost"===window.location.hostname?(this.sttEndpoint="ws://localhost:8082",this.ttsEndpoint="ws://localhost:8083"):(this.sttEndpoint=`wss://${window.location.hostname}/backend-stt`,this.ttsEndpoint=`wss://${window.location.hostname}/backend-tts`),window.addEventListener("focus",()=>{socketController.resetConversation({resetButtonClicked:!1,keepChatMsgs:!0})})}scrollToBottom(){var t=this.shadowRootDoc.querySelector("#chat-messages").lastChild;t&&(navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")?t.parentNode.scrollTop=t.offsetTop-50:t.scrollIntoView({behavior:"smooth"}),t.scrollIntoView({behavior:"smooth"}))}showTypingIndicator(){this.shadowRootDoc.querySelector("#chat-messages").appendChild(this.typingIndicator),this.scrollToBottom()}hideTypingIndicator(){var t=this.shadowRootDoc.querySelector("#typing-indicator");t&&this.shadowRootDoc.querySelector("#chat-messages").removeChild(t)}formatDate(t,e){return t=t.split("-"),e?t[1]+" "+t[0]+", "+t[2]+" 00:00:00":[{Jan:0,Feb:1,Mar:2,Apr:3,May:4,June:5,July:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11}[t[1]],parseInt(t[2])]}setDateOptions(t){var e={},n={startOpen:!0,stayOpen:!0,timeFormat:!1,dateBlacklist:!1,closeButton:!1,dateFormat:"dd/mm/YYYY",classNames:"tail-date-container",locale:"de"},o={},i=new Date,r=(i.setDate(i.getDate()-1),new Date);return r.setDate(r.getDate()+1),t.allowFutureDates&&!t.allowPastDates?(o.start=r,o.end=new Date(864e13),e.dateType="future"):t.allowPastDates&&!t.allowFutureDates?(o.start=new Date("1000,1,1"),o.end=i,e.dateType="past"):t.minDate&&t.maxDate?(o.start=new Date(this.formatDate(t.minDate,!0)),o.end=new Date(this.formatDate(t.maxDate,!0)),e.dateType="range",e.maxDate=t.maxDate):(o.start=new Date("1000,1,1"),o.end=new Date(864e13)),n.dateRanges=[o],e.options=n,e}createElement(t,e){t=document.createElement(t||"div");return e&&(e.className&&(t.className=e.className),e.id&&(t.id=e.id),e.innerText&&(t.innerText=e.innerText),e.innerHTML&&(t.innerHTML=e.innerHTML),e.onclick&&"string"==typeof e.onclick?t.setAttribute("onclick",e.onclick):e.onclick&&(t.onclick=e.onclick),e.onsubmit&&"string"==typeof e.onsubmit?t.setAttribute("onsubmit",e.onsubmit):e.onsubmit&&(t.onsubmit=e.onsubmit),e.oninput&&"string"==typeof e.oninput?t.setAttribute("oninput",e.oninput):e.oninput&&(t.oninput=e.oninput),e.rel&&t.setAttribute("rel",e.rel),e.href&&t.setAttribute("href",e.href),e.src&&t.setAttribute("src",e.src),e.type&&t.setAttribute("type",e.type),e.autocomplete&&t.setAttribute("autocomplete",e.autocomplete),e["data-value"]&&t.setAttribute("data-value",e["data-value"]),e.onchange)&&(t.onchange=e.onchange),t}addMessages(e,n,t){var o,i,r,s,a;if(/<DB>/.test(n))null!=this.prevElement?(r=this.prevElement.children[0].children[0],s=this.createElement("div",{className:"carousel-option"}),o=this.createElement("div",{className:"carouselTitleDiv"}),i=this.createElement("span",{innerHTML:n[0],className:"carouselTitle"}),s.appendChild(o),o.appendChild(i),r.appendChild(s)):(o=this.createElement("div",{className:"carousel-container"}),i=this.createElement("div",{className:"scroll-container"}),r=this.createElement("div",{className:"carousel-option"}),s=this.createElement("div",{className:"carouselTitleDiv"}),a=this.createElement("span",{innerHTML:n[0],className:"carouselTitle"}),r.appendChild(s),s.appendChild(a),o.appendChild(r),i.appendChild(o),e.appendChild(i),this.prevElement=e);else{this.prevElement=null;for(let t=0;t<n.length;t++){var c=this.createElement("div",{className:"message",innerHTML:n[t]});e.appendChild(c),chatController.addTimeStamp(c)}}e.setAttribute("data-ssml",t.responseSsml)}addButtons(t,e){var n,o,i=this.createElement("div",{className:"button-container"});for(let t=0;t<e.length;t++)!e[t].name||e[t].value&&""!==e[t].value||(e[t].value=e[t].name),e[t]&&e[t].link?(n=this.createElement("button",{className:"convButton",innerText:e[t].name,onclick:"chatController.openButtonLink("+JSON.stringify(e[t].link)+")"}),o=this.createElement("div",{className:"openLinkButton"}),n.appendChild(o),i.appendChild(n)):(o=this.createElement("button",{className:"convButton",innerText:e[t].name,onclick:"chatController.sendQuickReply(this, "+JSON.stringify(e[t].name)+")"}),i.appendChild(o));t.appendChild(i),chatController.addTimeStamp(i)}addCarousel(t,e,n,o){if(!o||n){const d=this.createElement("div",{className:"carousel-container"});var i=this.createElement("div",{className:"scroll-container"});for(let t=0;t<e.length;t++){var r=this.createElement("div",{className:"carousel-option"+(o?" disabled":""),onclick:()=>{if(o)return null;n?(d.querySelectorAll(".carousel-option").forEach(t=>{t.onclick=null,t.classList.add("disabled")}),this.sendQuickReply(null,e[t].title)):this.sendQuickReply(d,e[t].title)}}),s=this.createElement("img",{src:e[t].url}),a=this.createElement("div",{className:"carouselTitleDiv"}),c=this.createElement("span",{innerText:e[t].title,className:"carouselTitle"}),l=this.createElement("div",{className:"carouselSubTitleDiv"}),h=this.createElement("span",{innerText:e[t].subTitle,className:"carouselSubTitle"}),u=this.createElement("div",{className:"carousel-image-container"});u.appendChild(s),r.appendChild(u),r.appendChild(a),a.appendChild(c),r.appendChild(l),l.appendChild(h),d.appendChild(r)}i.appendChild(d),t.appendChild(i),chatController.addTimeStamp(i)}}addFeedbackTiles(t,e){var n=this.createElement("div",{className:"feedback-button-container"});for(let t=0;t<e.length;t++){var o=this.createElement("button",{className:"convButton",innerHTML:'<img style="float:left"  src="'+e[t].image+'"/><span style="vertical-align: -webkit-baseline-middle;">'+e[t].name+"</span>",onclick:"chatController.sendQuickReply(this, '"+e[t].name+"')"});n.appendChild(o)}t.appendChild(n),chatController.addTimeStamp(n)}addDatepicker(t,e){chatController.dateClass="datepicker-"+chatController.dateCounter;var n=this.createElement("div",{className:chatController.dateClass});const o=this.createElement("div",{className:"datepicker-element-container"}),i=(n.appendChild(o),t.appendChild(n),this.setDateOptions(e));var r=null;"range"===i.dateType&&(r=this.formatDate(i.maxDate,!1)),setTimeout(function(){chatController.datePicker=new tail.DateTime("."+chatController.dateClass,i.options),"range"===i.dateType&&chatController.datePicker.switchMonth(r[0],r[1]),1<chatController.datePicker.length?chatController.datePicker.forEach(()=>{chatController.dateCounter+=1}):(chatController.datePicker.on("change",function(){var t=document.getElementsByClassName(chatController.dateClass)[0].value;document.getElementById("user-input").value=t,document.getElementById("user-input").focus()}),o.appendChild(document.getElementById("tail-datetime-"+chatController.dateCounter)),chatController.scrollToBottom(),chatController.dateCounter+=1)},0),chatController.addTimeStamp(n)}updateFormValue(t,e,n){this.activeForm[t]=e,n.classList.remove("error");t=n.querySelector("#field-error");t&&t.classList.remove("show")}addForm(t,i,r){this.activeForm={};var e=this.createElement("div",{className:"form-container"});for(let t=0;t<i.data.length;t++){const g=i.data[t];var n,o,s,a,c=this.createElement("div",{className:"field-container "+g.type,"data-value":g.title});if("checkbox"!==g.type&&(n=this.createElement("div",{className:"field-label",innerText:g.title+(g.required?"*":"")}),c.appendChild(n)),"text"===g.type&&(n=this.createElement("input",{className:"field-input text",type:"text",oninput:"chatController.updateFormValue('"+g.title+"', this.value, this.parentNode)"}),c.appendChild(n)),"textarea"===g.type&&(o=this.createElement("textarea",{className:"field-input textarea",oninput:"chatController.updateFormValue('"+g.title+"', this.value, this.parentNode)"}),c.appendChild(o)),"password"===g.type&&(o=this.createElement("input",{className:"field-input password",type:"password",autocomplete:"new-password",oninput:"chatController.updateFormValue('"+g.title+"', this.value, this.parentNode)"}),c.appendChild(o)),"text"!==g.type&&"textarea"!==g.type&&"password"!==g.type||(l=this.createElement("div",{id:"field-error",innerText:g.errorMessage}),c.appendChild(l)),"dropdown"===g.type&&g.dropdownValues){var l=this.createElement("div",{className:"dropdown-input placeholder",onclick:t=>{(t.target.classList.contains("dropdown-input")||t.target.classList.contains("dropdown-label"))&&(t.target.classList.contains("dropdown-input")?t.target:t.target.parentNode).querySelector(".dropdown-values-container").classList.toggle("hidden")}}),h=this.createElement("span",{className:"dropdown-label",innerText:"Select option"}),u=(l.appendChild(h),this.createElement("div",{className:"dropdown-values-container hidden"}));for(let t=0;t<g.dropdownValues.length;t++){var d=this.createElement("div",{className:"dropdown-value","data-value":g.dropdownValues[t].value||g.dropdownValues[t][g.variableValue],innerText:g.dropdownValues[t].value||g.dropdownValues[t][g.variableName],onclick:t=>{t.target.parentNode.parentNode.querySelector("span").innerText=t.target.innerText,t.target.parentNode.parentNode.classList.remove("placeholder"),t.target.parentNode.classList.add("hidden"),chatController.updateFormValue(g.title,t.target.dataset.value,t.target.parentNode.parentNode.parentNode)}});u.appendChild(d)}l.appendChild(u),c.appendChild(l)}if("radioButtons"===g.type){var p=this.createElement("div",{className:"form-buttons-container"});for(let t=0;t<g.radioValues.length;t++){var f=this.createElement("div",{className:"form-button",innerText:g.radioValues[t].value,"data-value":g.radioValues[t].key,onclick:e=>{g.allowMultiple?e.target.classList.toggle("active"):(e.target.classList.toggle("active"),e.target.parentNode.querySelectorAll(".form-button").forEach(t=>{e.target.classList!==t.classList&&t.classList.remove("active")}));const n=[];e.target.parentNode.querySelectorAll(".active").forEach(t=>n.push(t.dataset.value)),chatController.updateFormValue(g.title,n,e.target.parentNode.parentNode)}});p.appendChild(f)}c.appendChild(p)}"checkbox"===g.type&&(h=this.createElement("div",{className:"checkbox-container"}),a=this.createElement("input",{type:"checkbox",onchange:t=>{var e=t.target.checked;e?t.target.parentNode.classList.add("checked"):t.target.parentNode.classList.remove("checked"),chatController.updateFormValue(g.title,e,t.target.parentNode.parentNode.parentNode)}}),(s=this.createElement("label")).appendChild(a),h.appendChild(s),a=this.createElement("span",{className:"field-label",innerHTML:g.title}),h.appendChild(a),c.appendChild(h)),e.appendChild(c)}var m=this.createElement("div",{className:"form-response-buttons-container"});for(let o=0;o<r.length;o++){let t;t=r[o].name?t=>{const e=i.data.filter(t=>(Array.isArray(this.activeForm[t.title])&&this.activeForm[t.title].length<=0?this.activeForm[t.title]=void 0:this.activeForm[t.title],t.required&&!this.activeForm[t.title])).map(t=>t.title),n=i.data.filter(t=>t.validation&&this.activeForm[t.title]&&!1===new RegExp(t.regexpPattern,t.regexpFlags.join("")).test(this.activeForm[t.title])).map(t=>t.title);0<e.length&&t.target.parentNode.parentNode.querySelectorAll(".field-container").forEach(t=>{-1!==e.indexOf(t.dataset.value)&&t.classList.add("error")}),0<n.length&&t.target.parentNode.parentNode.querySelectorAll(".field-container").forEach(t=>{-1!==n.indexOf(t.dataset.value)&&(t.classList.add("error"),t.querySelector("#field-error").classList.add("show"))}),0===e.length&&0===n.length&&this.sendFormReply(t.target.parentNode.parentNode,r[o].name,i.id)}:"chatController.sendQuickReply(this.parentNode, '"+r[o].name+"')";var y=this.createElement("button",{className:"convButton",innerText:r[o].name,onclick:t});m.appendChild(y)}e.appendChild(m),t.appendChild(e),chatController.addTimeStamp(e)}addCustomForm(t,e){var i=e.values.replace("${","").replace("}","").split(".")[0],n=e.headers,o=this.createElement("form",{className:"form-container",id:i});for(let t=0;t<n.length;t++){var r=this.createElement("div",{class:"form-input-box-cls"}),s=this.createElement("span",{class:"form-lable-cls",innerText:n[t].title}),a=this.createElement("input",{class:"form-input-cls",type:n[t].type,id:n[t].name});r.appendChild(s),r.appendChild(a),o.appendChild(r)}e=this.createElement("button",{className:"form-confirm-btn",innerText:"Submit",onclick:()=>{var e=this.shadowRootDoc.getElementById(i).childNodes,n={formid:i};for(let t=0;t<e.length-1;t++){var o=e[t].childNodes[1].value;n[e[t].childNodes[1].id]=o}socketController.sendUserMessageToServer(JSON.stringify(n),!1)}});o.appendChild(e),t.appendChild(o),chatController.addTimeStamp(o)}sanitizeResponseConfig(e){const n={},o=["[]","{}",'{"data":[]}','{"values":[],"staticbuttons":[]}'];return Object.keys(e).forEach(t=>{try{e[t]&&-1===o.indexOf(JSON.stringify(e[t]))&&(n[t]=e[t])}catch{}}),n}async displayMessageOnChat(t,e,n){var o=this.shadowRootDoc.querySelector("#chat-messages");let i=!1;var r=this.createElement("div",{className:t?"message-wrapper bot":"message-wrapper user",id:"chat-message-wrapper"});if(t){t=e.response||null;try{t&&0<=t.length&&(document.getElementById("user-input").disabled=!1,document.getElementById("chat-input-send").disabled=!1,t.forEach(function(t,o,i){var e=i[o].match(/\b(?:http:\/\/|https:\/\/)(\S+)\b/g);e&&e.forEach(function(t,e,n){i[o].substring(0,i[o].indexOf(t)).endsWith('href="')||(i[o]=i[o].replace(t,'<a class="linkstyle" href="'+t+'" target="_blank" rel="noopener noreferrer">'+t+"</a>"))})}))}catch(t){console.log(t)}e.responseConfig=this.sanitizeResponseConfig(e.responseConfig||{});e.responseConfig&&e.responseConfig.customResponse&&e.responseConfig.customResponse.data&&JSON.parse(e.responseConfig.customResponse.data);t&&(document.getElementById("user-input").disabled=!1,document.getElementById("chat-input-send").disabled=!1,this.addMessages(r,t,e));try{e.responseConfig.feedbackReqMsg&&this.addMessages(r,[e.responseConfig.feedbackReqMsg])}catch(t){console.log(t)}e.responseConfig.feedbackTiles&&this.addFeedbackTiles(r,e.responseConfig.feedbackTiles),e.responseConfig.carousel&&(document.getElementById("user-input").disabled=!1,document.getElementById("chat-input-send").disabled=!1,this.addCarousel(r,e.responseConfig.carousel,e.responseConfig.displayUnselectedOptions,n)),e.responseConfig.datepicker&&!n&&this.addDatepicker(r,e.responseConfig.datepicker),e.responseConfig.form&&!n&&(document.getElementById("user-input").disabled=!1,document.getElementById("chat-input-send").disabled=!1,this.addForm(r,e.responseConfig.form,e.responseConfig.buttons)),!e.responseConfig.buttons||e.responseConfig.form||n||(document.getElementById("user-input").disabled=!1,document.getElementById("chat-input-send").disabled=!1,this.addButtons(r,e.responseConfig.buttons)),t||e.responseConfig.buttons||(i=!0)}else{n=this.createElement("div",{className:"message",innerText:e});r.appendChild(n),chatController.addTimeStamp(n)}i||o.appendChild(r)}sendQuickReply(t,e){t.classList.contains("carousel-container")?t.classList.add("not-active"):t.parentNode.childNodes.forEach(function(t){t.classList.contains("convButton")&&(t.disabled=!0)}),socketController.sendUserMessageToServer(e,null)}openButtonLink(t){window.open(t,"_blank")}sendFormReply(t,e,n){t.parentNode.removeChild(t),socketController.sendUserMessageToServer(e,{data:this.activeForm,key:n}),this.activeForm={}}clearMessages(){this.shadowRootDoc.querySelector("#chat-messages").innerHTML=""}fetchChatbotName(){return window&&window.chatSettings&&window.chatSettings.chatbotName?window.chatSettings.chatbotName:"Edwin"}openChatWindow(){this.shadowRootDoc.querySelector("#open-converse").className="hide",this.shadowRootDoc.querySelector("#chat-window").className="show"}openConverse(){this.shadowRootDoc=document.getElementById("chat-bot"),socketController.socket||socketController.initSocket(),this.openChatWindow()}maximizeChat(){"maximize"===this.shadowRootDoc.querySelector("#chat-window").className?(this.shadowRootDoc.querySelector("#chat-window").className="show",this.shadowRootDoc.querySelector("#chat-resize-btn").className="chat-header-btn  maximize_chat_window",this.shadowRootDoc.querySelector("#chat-messages").className="minimize",this.shadowRootDoc.querySelector(".user-interaction-bar-maximize").className="user-interaction-bar"):(this.shadowRootDoc.querySelector("#chat-window").className="maximize",this.shadowRootDoc.querySelector("#chat-messages").className="maximize",this.shadowRootDoc.querySelector(".user-interaction-bar").className="user-interaction-bar-maximize",this.shadowRootDoc.querySelector(".user-interaction-bar-maximize").style.width="97%",this.shadowRootDoc.querySelector(".user-interaction-bar-maximize").style.margin="10px auto",this.shadowRootDoc.querySelector(".user-interaction-bar-maximize").style.height="50px")}initChatWindow(){var t=this.createElement("div",{id:"chat-bot"}),e=(t.style.position="fixed",document.body.appendChild(t),t),n=this.createElement("div",{id:"chat-window"}),o=this.createElement("link",{rel:"stylesheet",href:window.chatSettings.assetsBasePath?window.chatSettings.assetsBasePath+"dist/css/assets.css":"dist/css/assets.css"}),i=this.createElement("link",{id:"chatbotStyleLink",rel:"stylesheet",href:window.chatSettings.assetsBasePath?window.chatSettings.assetsBasePath+"dist/css/"+window.chatSettings.theme:"dist/css/defaultChatbot.css"}),r=this.createElement("div",{className:"chat-header"}),s=this.createElement("div",{className:"chat-header-label bot",innerText:this.fetchChatbotName(),id:"header-label"}),a=this.createElement("div",{className:"chat-header-btn reload",id:"reload-btn",onclick:"socketController.resetConversation({ resetButtonClicked: true, keepChatMsgs: false })"}),s=(n.style.borderRadius=0,r.style.borderRadius=0,a.style.right="15px",r.appendChild(s),r.appendChild(a),this.createElement("div",{id:"chat-messages"})),a=(this.typingIndicator=this.createElement("div",{id:"typing-indicator"}),this.createElement("span")),c=this.createElement("span"),l=this.createElement("span"),a=(this.typingIndicator.appendChild(a),this.typingIndicator.appendChild(c),this.typingIndicator.appendChild(l),this.createElement("form",{className:"user-interaction-bar",onsubmit:t=>{if(t.preventDefault(),chatController.datePicker){var e;chatController.datePicker.close();for(e of document.querySelectorAll("."+chatController.dateClass))e.remove()}socketController.sendUserMessageToServer("",null)}})),c=this.createElement("div",{className:"chat-input-btn voice voice-input-btn",id:"voice-toggle",onclick:"chatController.toggleVoice()"}),l=(c.style.display="none",this.createElement("input",{className:"user-input-textbox",id:"user-input",autocomplete:"off"})),h=this.createElement("button",{className:"btn-chat-send",id:"chat-input-send",innerHTML:"Send"}),c=(h.style.border="none",l.setAttribute("placeholder","Nachricht eingeben..."),window&&window.chatSettings&&window.chatSettings.voiceEnabled&&a.appendChild(c),a.appendChild(l),a.appendChild(h),this.createElement("div",{id:"open-converse",onclick:"chatController.openConverse()"}));n.appendChild(r),n.appendChild(s),n.appendChild(a),e.appendChild(c),e.appendChild(n),e.appendChild(o),e.appendChild(i),this.shadowRootDoc=t}showErrorMessage(t){var e,n=this.shadowRootDoc.querySelector("#chat-window");this.shadowRootDoc.querySelector("#error-overlay")||(e=this.createElement("div",{className:"error-overlay",id:"error-overlay"}),t=this.createElement("div",{className:"error-message",innerText:t,onclick:"chatController.hideErrorMessage()"}),e.appendChild(t),n.appendChild(e))}setInput(t){document.getElementById("user-input").value=t}hideErrorMessage(){var t=this.shadowRootDoc.querySelector("#chat-window"),e=this.shadowRootDoc.querySelector("#error-overlay");e&&t.removeChild(e)}handleIncomingMessage(t){var e=document.querySelector("#chat-messages");e&&0<e.children.length&&e.lastChild.classList.contains("bot")||(this.hideTypingIndicator(),this.agentAvailable=t.agentAvailable,this.agentAvailable&&(this.agentName=t.converseResponse.agentName||this.fetchChatbotName(),this.shadowRootDoc.querySelector("#header-label").innerText=this.agentName,this.shadowRootDoc.querySelector("#chat-sidebar-name").innerText=this.agentName),this.displayMessageOnChat(!0,t.converseResponse),this.scrollToBottom(),this.voiceEnabled&&(e=t.converseResponse.responseSsml||t.converseResponse.response,chatController.sendTTSMessage(e)))}addTimeStamp(t,e){var n=new Date,o=n.getSeconds(),n=n.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!1});socketController.addTimeToSession(n),1<=o&&o<=59&&!e?(o=this.createElement("div",{className:"bot-timeStamp "+n,id:"bot-timeStamp-id",innerHTML:"vor wenigen Sekunden"}),t.appendChild(o)):e||(o=this.createElement("div",{className:"bot-timeStamp",id:"bot-timeStamp-id",innerHTML:n}),t.appendChild(o)),setTimeout(function(){var e,n=document.getElementsByClassName("bot-timeStamp");for(let t=0;t<n.length;t++)"vor wenigen Sekunden"===n[t].innerHTML&&(e=n[t].className.split(" "),n[t].innerHTML=e[1])},59e3)}getLastResponse(){var e=this.shadowRootDoc.querySelector("#chat-messages").children,n=[];if(0<e.length)for(let t=e.length-1;0<=t&&"message-wrapper bot"===e.item(t).className;t--)e.item(t).getAttribute("data-ssml")?n.unshift(e.item(t).getAttribute("data-ssml")):n.unshift(e.item(t).innerText);const t=n.join(" ");var o=t.replace(/((1[0-2]|0?[1-9]):([0-5][0-9]) ([AaPp][Mm]))/gi," ").replace(/(vor wenigen Sekunden)/gi," ");return o}changeLivePerson(){var t=this.agentAvailable?this.agentName:this.fetchChatbotName();this.shadowRootDoc.querySelector("#header-label").innerText=t,this.agentAvailable?(this.shadowRootDoc.querySelector("#chat-sidebar").classList.remove("bot"),this.shadowRootDoc.querySelector("#chat-sidebar").classList.add("lp"),this.shadowRootDoc.querySelector("#chat-sidebar-name").innerText="Live Person",this.shadowRootDoc.querySelector("#chat-sidebar-image").classList.remove("bot"),this.shadowRootDoc.querySelector("#chat-sidebar-image").classList.add("lp")):(this.shadowRootDoc.querySelector("#chat-sidebar").classList.remove("lp"),this.shadowRootDoc.querySelector("#chat-sidebar").classList.add("bot"),this.shadowRootDoc.querySelector("#chat-sidebar-name").innerText=this.fetchChatbotName(),this.shadowRootDoc.querySelector("#chat-sidebar-image").classList.remove("lp"),this.shadowRootDoc.querySelector("#chat-sidebar-image").classList.add("bot"))}}const chatController=new ChatController;class SocketController{constructor(){this.SESSION_ENUM={MESSAGES:"converseMessages",CONVERSE_SESSION:"converseSession",DETECTED_LANGUAGE:"detectedLanguage"},this.delayFlag=Boolean}async initSocket(e,n=!1){chatController.init(),window&&window.chatSettings&&window.chatSettings.endpoint&&(this.endpoint=window.chatSettings.endpoint),window&&window.chatSettings&&window.chatSettings.path&&(this.path=window.chatSettings.path),window&&window.chatSettings&&window.chatSettings.masterBotID&&(this.masterBotID=window.chatSettings.masterBotID),window&&window.chatSettings&&window.chatSettings.storageType&&(this.storageType=window.chatSettings.storageType);let o=!0;this.socket=io(this.endpoint,{path:this.path,transports:["websocket"]}),this.socket.on("connect",()=>{chatController.hideErrorMessage(),console.log("websocket connected");var t={input:"welcome",masterBotId:this.masterBotID,token:this.token,sessionToken:this.sessionToken,messageFromClient:n};e&&(t.input=e,t.proactive=!0),o&&(o=!1,this.sendMessageToServer(JSON.stringify(t)))}),this.socket.on("disconnect",()=>{console.log("websocket disconnected"),this.socketResetting?this.socketResetting=!1:chatController.showErrorMessage("Internet connectivity issue, reconnecting to the server")}),this.socket.on("connect_error",t=>{console.error("websocket connection failed",t)}),this.socket.on("webOut",t=>{o=!1,chatController.handleIncomingMessage(t),e&&chatController.openChatWindow()}),this.socket.on("fetchConversationHistory",e=>{try{if(e)for(let t=0;t<e.length;t++)(e[t].userMessage||e[t].botResponse)&&(e[t].isAgentMsg=!e[t].userMessage,e[t].content=e[t].userMessage||{response:[e[t].botResponse]},chatController.displayMessageOnChat(e[t].isAgentMsg,e[t].content),chatController.scrollToBottom())}catch(t){}}),this.socket.on("updateSessionToken",t=>{try{var e={sessionToken:t};(this.storageType&&"sessionStorage"===this.storageType?sessionStorage:localStorage).setItem(this.SESSION_ENUM.CONVERSE_SESSION,JSON.stringify(e))}catch(t){}}),document.querySelector("#user-input").addEventListener("keyup",t=>{0===t.currentTarget.value.trim().length?document.getElementById("chat-input-send").disabled=!0:document.getElementById("chat-input-send").disabled=!1})}sendMessageToServer(t){this.delayFlag=!1,this.socket.emit("webIn",{message:t,sourceField:window.location.href}),chatController.scrollToBottom()}sendUserMessageToServer(t,e){let n,o;if(t?n=t:(n=chatController.shadowRootDoc.querySelector("#user-input").value,chatController.shadowRootDoc.querySelector("#user-input").value=""),console.log(n),n){t=chatController.shadowRootDoc.querySelector("#datepicker"),t=(t&&t.parentNode.removeChild(t),chatController.displayMessageOnChat(!1,n.name||n),chatController.showTypingIndicator(),{input:n.value||n,masterBotId:this.masterBotID,token:this.token,sessionToken:this.sessionToken,messageFromClient:!0});try{o=(this.storageType&&"sessionStorage"===this.storageType?sessionStorage:localStorage).getItem(this.SESSION_ENUM.CONVERSE_SESSION)}catch(t){}o&&(o=JSON.parse(o),t.sessionToken=o.sessionToken),e&&(t.form=e),this.sendMessageToServer(JSON.stringify(t))}}async resetConversation(t={}){(this.storageType&&"sessionStorage"===this.storageType?(sessionStorage.removeItem(this.SESSION_ENUM.CONVERSE_SESSION),sessionStorage):(localStorage.removeItem(this.SESSION_ENUM.CONVERSE_SESSION),localStorage)).removeItem(this.SESSION_ENUM.MESSAGES),this.sessionToken=void 0,this.isResettingConversion||(this.isResettingConversion=!0,void 0===t.resetChat&&(t.resetChat=!0),new URLSearchParams(window.location.search).get("sessionToken")&&!t.resetButtonClicked&&(t.resetChat=!1),this.socketResetting=!0,t.keepChatMsgs||chatController.clearMessages(),this.socket&&await this.socket.disconnect(),await this.initSocket(t.event,t.resetChat),this.isResettingConversion=!1)}addTimeToSession(t){let e;try{e=this.storageType&&"sessionStorage"===this.storageType?JSON.parse(sessionStorage.getItem(this.SESSION_ENUM.MESSAGES)):JSON.parse(localStorage.getItem(this.SESSION_ENUM.MESSAGES))}catch(t){}try{if(e){for(var n=0;n<e.length;n++)!0!==e[n].isAgentMsg||e[n].hasOwnProperty("time")||"Was your experience today helpful?"!==e[n].content.response[0]&&(e[n].time=t);(this.storageType&&"sessionStorage"===this.storageType?sessionStorage:localStorage).setItem(this.SESSION_ENUM.MESSAGES,JSON.stringify(e))}else(this.storageType&&"sessionStorage"===this.storageType?sessionStorage:localStorage).setItem(this.SESSION_ENUM.MESSAGES,JSON.stringify([message]))}catch(t){}}}const socketController=new SocketController;URL=window.URL||window.webkitURL,chatController.initChatWindow(),chatController.openConverse(),chatController.maximizeChat();